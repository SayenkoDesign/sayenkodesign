/************************************************************
* InfiniteWP Admin panel									*
* Copyright (c) 2012 Revmakx								*
* www.revmakx.com											*
*															*
************************************************************/
function echeck(e){var t="@",a=".",i=e.indexOf(t),s=e.length;e.indexOf(a);return-1==e.indexOf(t)?!1:-1==e.indexOf(t)||0==e.indexOf(t)||e.indexOf(t)==s?!1:-1==e.indexOf(a)||0==e.indexOf(a)||e.indexOf(a)==s?!1:-1!=e.indexOf(t,i+1)?!1:e.substring(i-1,i)==a||e.substring(i+1,i+2)==a?!1:-1==e.indexOf(a,i+2)?!1:-1!=e.indexOf(" ")?!1:!0}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function getPropertyCount(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a}function addNumber(e,t,a){"undefined"==typeof a&&(a=1),(""==$(".dialog_cont #backupTotal").val()||"0"==$(".dialog_cont #backupTotal").val())&&$(".dialog_cont #backupTotal").val("1"),$(e).hasClass("incr")?type=1:$(e).hasClass("decr")&&(type=0),val=$("#"+t).val(),0==type&&1!=val&&0!=val?$("#"+t).val(parseInt(val)-a):1==type&&$("#"+t).val(parseInt(val)+a)}function centerDialog(){$("#modalDiv").dialog({width:"auto",modal:!0,position:"center",resizable:!1})}function bottomToolBarShow(){dynamicResize()}function bottomToolBarHide(){$("#bottom_sites_cont").hide(),$(".showFooterSelector").removeClass("pressed"),$("#dynamic_resize").css("margin-left","0")}function dynamicResize(e){if(void 0==e&&(e=0),$('[role="dialog"]').is(":visible")&&0==e)return!1;var t=$(window).height(),a=$(window).width(),i=Math.round(a/2);if(1400>a?$(".social_love").hide():$(".social_love").show(),a>=1250){bottomFullBar=1,$("#dynamic_resize").css({"margin-left":"260px"}),$("#bottom_toolbar #bottom_sites_cont").height(t-32).css("margin-top","-"+(t-35)+"px").show(),$("#bottom_toolbar #bottom_sites_cont #bottom_left,#bottom_toolbar #bottom_sites_cont #bottom_right").height(t-34),$("#bottom_toolbar #bottom_sites_cont .list_cont").height(t-112),$("#bottomToolBarSelector .bg_yellow").removeClass("bg_yellow"),$(".showFooterSelector").addClass("pressed");var s=parseInt(i)+parseInt(130);$("#loadingDiv").css("left",s)}else bottomFullBar=0,$("#dynamic_resize").css({"margin-left":"0"}),$("#bottom_toolbar #bottom_sites_cont").height(401).css("margin-top","-400px").show(),$("#bottom_toolbar #bottom_sites_cont #bottom_left,#bottom_toolbar #bottom_sites_cont #bottom_right").height(401),$("#bottom_toolbar #bottom_sites_cont .list_cont").height(324),$("#loadingDiv").css("left",i)}function closeDialogs(e,t){$("#ui-tooltip-manageGroupsQtip").length>0&&$(".toggle_manage_groups").qtip("destroy"),1!=groupEditFlag&&1!=bottomFullBar&&($("#bottom_sites_cont").hide(),resetBottomToolbar()),$("#historyQueue").hide(),$("#settings_cont").is(":visible")&&2!=e&&($("#settings_btn").removeClass("active"),$("#settings_cont").hide()),$("#updates_centre_cont").is(":visible")&&1!=stopAllAction&&1!=e&&($("#updateCentreBtn").removeClass("active"),$("#updates_centre_cont").hide()),$(".notification_centre_cont").is(":visible")&&($(".notification_centre_cont").hide(),$(".notif_btn").removeClass("active")),1==scheduleAddonFlag&&$(".dialog_cont .time_select_options").hide(),$(".dropdownToggle").hide(),$(".dropdown_btn").removeClass("open")}function loadFixedNotifications(){null!=fixedNotifications&&void 0!=fixedNotifications&&getPropertyCount(fixedNotifications)>0&&$.each(fixedNotifications,function(e,t){$(".notification_cont").append('<div class="notification '+t.type.toLowerCase()+'"><div class="notif_title">'+t.title+'</div><div class="notif_body">'+t.message+'</div><div class="n_close"></div></div>')})}function checkUpdateEmpty(){$("#siteViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&"none"==$("#siteViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")&&$("#siteViewUpdateContent .hiddenCheck").show(),$("#themeViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&"none"==$("#themeViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")&&$("#themeViewUpdateContent .hiddenCheck").show(),$("#pluginViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&"none"==$("#pluginViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")&&$("#pluginViewUpdateContent .hiddenCheck").show(),$("#WPViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&"none"==$("#WPViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")&&$("#WPViewUpdateContent .hiddenCheck").show()}function siteSelectorNanoReset(e){$.browser.msie&&"8.0"==$.browser.version&&$(".site_selector1 .bywebsites .website_items_cont .website_cont:nth-child(3n+3)").css({width:"235px","border-right":"0"}),$(".siteSelectorContainer .nano").nanoScroller({scroll:"top",stop:!0}),$(".siteSelectorContainer .group_items_cont").css("height",$(".siteSelectorContainer .group_items_cont").height()).addClass("nano"),$(".siteSelectorContainer .website_items_cont").css("height",$(".siteSelectorContainer .website_items_cont").height()).addClass("nano"),$(".siteSelectorContainer .nano").nanoScroller(),1==e&&($("#bottomToolBarSelector .nano").nanoScroller({stop:!0}),$("#bottomToolBarSelector .nano").nanoScroller())}function applyChangesCheck(){$(".actionButton").hasClass("active")?$(".status_applyChangesCheck").removeClass("disabled"):$(".status_applyChangesCheck").addClass("disabled")}function historyRefresh(){var e={};e.requiredData={},e.requiredData.getHistoryPanelHTML=1,doCall(ajaxCallPath,e,"reloadHistory","json","noProgress",1)}function setTooltipData(e){toolTipData=e.data.getUserHelp,"true"==toolTipData.manageGroups&&$(".toggle_manage_groups").qtip({id:"toggleGroupQtip",content:{text:"Manage Groups"},position:{my:"bottom center",at:"top center",adjust:{y:-6}},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:!0,width:10,height:5}}})}function getTotalUpdates(e){var t=e.pluginsView.plugins,a=e.themesView.themes,i=mainJson.coreView.core;if(void 0!=i)var s=getPropertyCount(i);else var s=0;if(void 0!=t)var o=getPropertyCount(t);else var o=0;if(void 0!=a)var n=getPropertyCount(a);else var n=0;var d=s+o+n;return d}function resetBottomToolbar(){1!=bottomFullBar&&($(".showFooterSelector").removeClass("pressed"),$("#bottom_sites_cont").hide()),$("#bottomToolBarSelector .bg_yellow").removeClass("bg_yellow"),$("#bottomToolbarOptions").remove(),$(".bottomSites").find("a").css("color","#555"),$(".bottomSites").attr("style","border-bottom: 1px solid #d8dcdf;")}function processRemoveSite(e){var t=e.actionResult.detailedStatus[0];if($("#modalDiv .btn_loadingDiv").remove(),"success"!=t.status){var a='Site removed from the panel.<br>However following error occurred:<span class="error_txt"> '+t.errorMsg+"</span>",i='<span class="successMsg"><span class="success_icon"></span>'+a+"</span>";$("#removeSiteCont").html(i),$("#removeSiteButtons").hide()}else setTimeout(function(){$("#modalDiv").dialog("close")},1e3);isAddonSuiteMiniLimitExceeded=e.data.checkIsAddonSuiteMiniLimitExceeded,addonSuiteMiniLimit=e.data.getAddonSuiteMiniLimit,addonSuiteMiniActivity=e.data.getAddonSuiteMiniActivity,resetVars(e),refreshStats(e,1),clientUpdateNotificationPush(e)}function processEditSite(e){if($(".addSiteButton").removeClass("disabled"),$("#modalDiv .btn_loadingDiv").remove(),0==e.data.updateSite){var t='<span id="addSiteErrorMsg"><span class="fail_icon"></span>'+errorMsg+"</span>";$("#addSiteSprite").after(t)}else $(".add_site.form_cont").html('<span id="addSiteSuccessMsg"><span class="success_icon"></span>Site successfully edited.</span>'),$(".addSiteButton").hide(),setTimeout(function(){$("#modalDiv").dialog("close"),lazyLoadOnlyVisibleImages()},2e3),resetVars(e),refreshStats(e,1)}function processAddSite(e){if($(".addSiteButton").removeClass("disabled"),$("#modalDiv .btn_loadingDiv").remove(),isAddonSuiteMiniLimitExceeded=e.data.checkIsAddonSuiteMiniLimitExceeded,addonSuiteMiniLimit=e.data.getAddonSuiteMiniLimit,addonSuiteMiniActivity=e.data.getAddonSuiteMiniActivity,0==e.actionResult&&addonSuiteMiniLimitExceeded("addSite"))return!1;var t=e.actionResult.detailedStatus[0];if("success"!=t.status){if("main_plugin_connection_error"==t.error){var a=$("#adminURL").val();a=a.Trim(),"/"!=a.charAt(a.length-1)&&(a+="/");var i=a.search("wp-admin");if(i>0)var s=a+"plugin-install.php?tab=search&type=term&s=InfiniteWP&plugin-search-input=Search+Plugins";else var s=a+"wp-admin/plugin-install.php?tab=search&type=term&s=InfiniteWP&plugin-search-input=Search+Plugins";var o='Yikes! It appears IWP plugin has not been installed in this site. Click here to <a href="'+s+'" target="_blank">Install</a> it.<br>OR<br>If you have already installed IWP Plugin, deactivate and activate it now.'}else var o=t.errorMsg;("404"==t.error||"402"==t.error||"403"==t.error)&&(o+='<br><a href="'+supportURL+"support/solutions/articles/212260-402-403-404-error-while-adding-site/"+GAHelpTracking+'" target="_blank">Try this possible solution</a>');var n='<span id="addSiteErrorMsg"><span class="fail_icon"></span>'+o+"</span>";$("#addSiteSprite").after(n)}else{$("#modalDiv").dialog("close"),resetVars(e),refreshStats(e,1),$("#bottom_sites_cont").show(),$(".showFooterSelector").addClass("pressed");var d=getLastKey(e.data.getSites),l=getPropertyCount(e.data.getSites);l>=3&&"done"!=threeSitesTweetStatus&&showTweetDialog("three_sites"),$("#bottomToolBarSelector #bottom_left .nano").nanoScroller({scroll:"bottom"}),$("#bottomToolBarSelector #bottom_left .bottomSites#s"+d).effect("highlight",{},3e3)}clientUpdateNotificationPush(e,1)}function processReaddSite(e){var t=e;if(e=e.data.getReaddedSite,"undefined"!=typeof e&&"undefined"!=typeof e.siteID){var a=e.siteID,i=$('.ind_sites[sid="'+a+'"]');i.removeClass("disconnected")}$("#modalDiv").dialog("destroy"),clientUpdateNotificationPush(t,1)}function processMaintenanceSite(e){if($("#maintenanceSiteConfirm").removeClass("disabled"),$("#loadingDiv").hide(),e=e.data.iwpMaintenance,"undefined"!=typeof e&&"undefined"!=typeof e.siteID&&"undefined"!=typeof e.action){var t=e.siteID;"maintenance0"==e.action?($('.ind_sites[sid="'+t+'"]').removeClass("maintenance"),site[t].connectionStatus=1):"maintenance1"!=e.action||$('.ind_sites[sid="'+t+'"]').hasClass("maintenance")||($('.ind_sites[sid="'+t+'"]').addClass("maintenance"),site[t].connectionStatus=2)}$("#modalDiv").dialog("destroy")}function processUpdateNotes(e){if(e=e.data.iwpUpdateNotes,"undefined"!=typeof e&&"undefined"!=typeof e.siteID){var t=e.siteID,a=e.notes;site[t].notes=a,(""==a||null==a||"undefined"==typeof a)&&(a='<a class="add_notes">Add Notes</a>');var i=$('.site_flap_cont_data[btsiteid="'+t+'"]');i.find(".edit_note").show(),i.find(".edit_site_notes,.save_note").remove(),i.find(".site_notes").html(a).show(),i.find(".edit_links").parent().css({height:$(".site_links").parent().height()+"px"}),i.find(".edit_note").parent().css({height:$(".site_notes").parent().height()+"px"})}}function processUpdateLinks(e){if(e=e.data.iwpUpdateLinks,"undefined"!=typeof e&&"undefined"!=typeof e.siteID){var t=e.siteID,a=e.links,i="";if(site[t].links=a,"undefined"!=typeof a&&null!=a&&a.length)for(var s=0;s<a.length;s++)""!=a[s]&&"http://"!=a[s]&&(0!=a[s].indexOf("http://")&&(a[s]="http://"+a[s]),i+='<a style="display:block;" target="_blank" href="'+a[s]+'">'+a[s]+"</a>");""==i&&(i='<a class="add_links">Add Links</a>');var o=$('.site_flap_cont_data[btsiteid="'+t+'"]');o.find(".edit_links").show(),o.find(".edit_site_links,.save_links").remove(),o.find(".site_links").html(i).show(),o.find(".edit_links").parent().css({height:$(".site_links").parent().height()+"px"}),o.find(".edit_note").parent().css({height:$(".site_notes").parent().height()+"px"})}}function updateCountRefresh(){$("#totalUpdateCount").text(mainJson.totalUpdateCount),$("#lastReloadTime").text(mainJson.lastReloadTime),"undefined"!=typeof recentLength&&($("#totalCommentCount").text(recentLength),1>recentLength?$(".commentCountClass").hide():$(".commentCountClass").text(recentLength).show())}function processClientUpdate(e){if(1!=loadUpdateNotificationPopupShown){if(0!=clientUpdatesAvailable){0!=clientUpdatesAvailable.siteIDs&&"undefined"!=clientUpdatesAvailable.siteIDs&&(clientUpdateSites=clientUpdatesAvailable.siteIDs);var t="",a='<a href="http://wordpress.org/plugins/iwp-client/changelog/" target="_blank">'+clientUpdatesAvailable.clientUpdateVersion+"</a>";"undefined"!=typeof clientUpdatesAvailable.clientUpdateChangeLog&&""!=clientUpdatesAvailable.clientUpdateChangeLog&&null!=clientUpdatesAvailable.clientUpdateChangeLog&&(t=clientUpdatesAvailable.clientUpdateChangeLog,a=clientUpdatesAvailable.clientUpdateVersion)}else{e.hasOwnProperty("siteIDs")&&(clientUpdateSites=e.siteIDs);var t="",a='<a href="http://wordpress.org/plugins/iwp-client/changelog/" target="_blank">'+e.clientUpdateVersion+"</a>";"undefined"!=typeof e.clientUpdateChangeLog&&""!=e.clientUpdateChangeLog&&null!=e.clientUpdateChangeLog&&(t=e.clientUpdateChangeLog,a=e.clientUpdateVersion)}if(1!=$("#modalDiv").dialog("isOpen")){var i='<div class="dialog_cont update_client_plugin"> <div class="th rep_sprite"> <div class="title droid700">IMPORTANT UPDATE</div> <a class="cancel rep_sprite_backup notNowUpdate">cancel</a></div> <div style="padding:20px;"><div style="text-align:center;line-height: 20px;" >An important update to the <span class="droid700">IWP Client Plugin</span> version '+a+' is available.<div>We <span class="droid700">highly recommend</span> that you update it on all your sites.</div></div></div> '+t+'<div class="clear-both"></div> <div class="th_sub rep_sprite" style="border-top:1px solid #c6c9ca;"><div class="btn_action float-right"><a class="rep_sprite" id="updateClientConfirm">Update Now</a></div> <span class="float-right cancel notNowUpdate" >Not Now</span> </div> </div>';$("#modalDiv").dialog("destroy"),$("#modalDiv").html(i).dialog({width:"auto",modal:!0,position:"center",resizable:!1,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}}}function clientPluginUpdatesNotification(e){e?clientPluginUpdateSiteIDsCount=e.length:0!=clientUpdatesAvailable&&(clientPluginUpdateSiteIDsCount=clientUpdatesAvailable.siteIDs.length),clientPluginUpdateSiteIDsCount<2?$(".updateClientCount").html(clientPluginUpdateSiteIDsCount+" site now."):$(".updateClientCount").html(clientPluginUpdateSiteIDsCount+" sites now."),$(".clientUpdateNotification").show()}function formArrayRefreshStats(e){formArrayVar[e.actionResult.actionID]={},formArrayVar[e.actionResult.actionID]["function"]="refreshStats"}function formArrayLoadPlugins(e){formArrayVar[e.actionResult.actionID]={},formArrayVar[e.actionResult.actionID]["function"]="loadPlugins"}function formArrayClientUpdate(e){formArrayVar[e.actionResult.actionID]={},formArrayVar[e.actionResult.actionID]["function"]="clientUpdate"}function formArrayUpdateAll(e){formArrayVar[e.actionResult.actionID]={},formArrayVar[e.actionResult.actionID]["function"]="loadUpdateAll"}function refreshStats(e,t,a){void 0==t&&(t=0),$("#reloadStats").removeClass("disabled"),$("#reloadStats").closest("div").removeClass("disabled"),$(".btn_reload .btn_loadingDiv ").remove(),$("#clearPluginCache").removeClass("active"),mainJson=e.data.getSitesUpdates,sitesjson=mainJson.siteView,pluginsjson=mainJson.pluginsView.plugins,themesjson=mainJson.themesView.themes,translationsjson=mainJson.translationsView.translations,wpjson=mainJson.coreView.core,site=e.data.getSites,"undefined"!=typeof isComment&&1==isComment&&void 0!=e.data.manageCommentsGetRecent&&(commentsJson=e,recentLength=commentsJson.data.manageCommentsGetRecent.siteView,recentLength=void 0!=recentLength?objLen(recentLength):0),"undefined"!=typeof isGoogle&&1==isGoogle&&(googleJson=e),"undefined"!=typeof isGoogleWM&&1==isGoogleWM&&(googleWMJson=e),updateCountRefresh(),"undefined"!=typeof e.data.getRecentPluginsStatus&&(pluginsStatus=e.data.getRecentPluginsStatus),"undefined"!=typeof e.data.getRecentThemesStatus&&(themesStatus=e.data.getRecentThemesStatus),1!=a&&processPage(currentPage,1),void 0!=e.data.getClientUpdateAvailableSiteIDs&&(clientUpdatesAvailable=e.data.getClientUpdateAvailableSiteIDs,void 0!=e.data.getClientUpdateAvailableSiteIDs.siteIDs&&clientPluginUpdatesNotification(e.data.getClientUpdateAvailableSiteIDs.siteIDs)),0!=e.data.getClientUpdateAvailableSiteIDs&&0==notNowUpdate&&0==t&&processClientUpdate(e.data.getClientUpdateAvailableSiteIDs),"undefined"!=typeof isComment&&$(".recentComments").hasClass("active")&&loadCommentManage(),updateSitesStatusColor(),lazyLoadOnlyVisibleImages()}function updateSitesStatusColor(){updateSitesConnectionStatusColor(),updateSitesClientUpdateColor()}function updateSitesConnectionStatusColor(){"undefined"!=typeof site&&null!=site&&$.each(site,function(e,t){switch(parseInt(t.connectionStatus)){case 0:var a=$(".ind_sites#s"+e);a.removeClass("maintenance toUpdate"),a.hasClass("disconnected")||applySiteStatusColor(e,"disconnected");break;case 1:var a=$(".ind_sites#s"+e);a.removeClass("disconnected maintenance");break;case 2:var a=$(".ind_sites#s"+e);a.removeClass("disconnected toUpdate"),a.hasClass("maintenance")||applySiteStatusColor(e,"maintenance")}})}function updateSitesClientUpdateColor(){$(".ind_sites").removeClass("toUpdate"),void 0!=clientUpdatesAvailable&&0!=clientUpdatesAvailable&&void 0!=clientUpdatesAvailable.siteIDs&&$.each(clientUpdatesAvailable.siteIDs,function(e,t){applySiteStatusColor(t,"toUpdate")})}function applySiteStatusColor(e,t){switch(t){case"disconnected":var a=$(".ind_sites#s"+e);a.addClass("disconnected");break;case"maintenance":var a=$(".ind_sites#s"+e);a.addClass("maintenance");break;case"toUpdate":var a=$(".ind_sites#s"+e);1!=a.hasClass("disconnected")&&1!=a.hasClass("maintenance")&&a.addClass("toUpdate");break;default:return!1}}function clientUpdateNotificationPush(e,t){void 0!=e&&void 0!=e.data&&(0==e.data.getClientUpdateAvailableSiteIDs?($(".clientUpdateNotification").hide(),clientPluginUpdateSiteIDsCount=!1,clientUpdatesAvailable=!1,updateSitesClientUpdateColor()):void 0!=e.data.getClientUpdateAvailableSiteIDs&&(clientUpdatesAvailable=e.data.getClientUpdateAvailableSiteIDs,void 0!=e.data.getClientUpdateAvailableSiteIDs.siteIDs&&(clientPluginUpdatesNotification(e.data.getClientUpdateAvailableSiteIDs.siteIDs),updateSitesClientUpdateColor()),1==t&&processClientUpdate(e.data.getClientUpdateAvailableSiteIDs)))}function get_settings_loader(e){pluginsStatus=e.data.getRecentPluginsStatus,themesStatus=e.data.getRecentThemesStatus;var t=e.data.getFTPValues,a={};a.requiredData={},a.requiredData.getConfigFTP=1,doCall(ajaxCallPath,a,"showFTPDetails"),"undefined"!=typeof t&&null!=t&&(settingsData.data.getSettingsAll.settings.FTP=t),timeZones=e.data.getTimeZones.timeZones}function showFTPDetails(e){0!=e.data.getConfigFTP&&(settingsData.data.getSettingsAll.settings.FTP=e.data.getConfigFTP)}function validateZipURL(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.match(t)?!0:!1}function pauseCallRefresh(e,t){e&&pauseCallRefreshCount++,pauseCallRefreshCount>=t&&(clearInterval(pauseCallRefreshInterval),pauseCallRefreshCount=0,historyRefresh())}function reloadHistory(e){var t=0;bottom_count+=1,$("#historyQueue").is(":visible")||(t=1);var a=0,i=1;$("#historyQueue .nano").nanoScroller({stop:!0});var s=getPropertyCount(e.data);if("undefined"!=typeof e.showBrowserCloseWarning&&(showBrowserCloseWarning=1==e.showBrowserCloseWarning?!0:!1),void 0!=e.data&&void 0!=e.data.getWaitData&&getPropertyCount(e.data.getWaitData)>0&&void 0!=formArrayVar&&getPropertyCount(formArrayVar)>0)clearInterval(historyRefreshInterval),1==a?pauseCallRefreshInterval=setInterval(function(){$("#historyQueueUpdateLoading").addClass("loading"),pauseCallRefresh(1,i)},1e3):historyRefreshInterval=setInterval(function(){$("#historyQueueUpdateLoading").addClass("loading"),historyRefresh()},1e3*forcedAjaxInterval),$.each(formArrayVar,function(a,i){if(void 0!=e.data.getWaitData[a]&&void 0!=e.data.getWaitData[a].total&&(void 0==formArrayVar[a].initated?("loadUsers"==i["function"]&&$(".loadUsersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadUsersProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadPlugins"==i["function"]&&$(".fetchInstall").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadPluginsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadComments"==i["function"]&&$(".fetchManageComments").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadCommentsProcess" style="margin: 8px 30px 8px 0px; width: 89px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadMalwareData"==i["function"]&&$(".loadMalware").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadMalwareProcess" style="margin: 8px 30px 8px 0px; width: 89px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadPosts"==i["function"]&&$(".fetchPosts").closest(".btn_action").hide().after('<div class="btn_reload_progress float-left" id="loadPostsProcess" style="margin: 8px 30px 8px 0px; width: 66px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadOptimize"==i["function"]&&$(".loadOptimize").closest(".btn_action").hide().after('<div class="btn_reload_progress float-left" id="loadOptimizeProcess" style="margin: 8px 30px 8px 0px; width: 64px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadLinks"==i["function"]&&$(".fetchPosts").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadLinksProcess" style="margin: 8px 30px 8px 0px; width: 60px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"refreshStats"==i["function"]&&$("#reloadStats").closest(".btn_reload").hide().after('<div class="btn_reload_progress float-right" id="refreshStatsProcess"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"runCode"==i["function"]&&$("#runSnippetCode").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="runCodeProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadbrokenLinksGetAllLinksResult"==i["function"]&&$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLAllLinksProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"getBrokenLinksUpdateLink"==i["function"]&&$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLUpdateLinkProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"getBrokenLinksUndismissLink"==i["function"]&&$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLUndismissLinkProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadbrokenLinksBulkActionsResult"==i["function"]&&$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLBulkActionsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadYoastSEOGetInfoResult"==i["function"]&&$(".load_yseo_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadYoastResultsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"loadYoastSEOSaveInfoResult"==i["function"]&&$(".load_yseo_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadYoastResultsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"getGoogleWebMastersRedirect"==i["function"]&&$(".loadWebMastersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="googleWebMastersRedirectProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"getGoogleWebMastersRedirectAgain"==i["function"]&&$(".loadWebMastersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="googleWebMastersRedirectAgainProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"FEUploaderResult"==i["function"],"loadwordFenceResult"==i["function"]&&$("#LoadWordfence").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadWordfenceProcess" style="margin: 8px 30px 8px 0px; width: 150px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"ithemesSecurityLoad"==i["function"]&&$("#LoadIthemesSecurity").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="LoadIthemesSecurityProcess" style="margin: 8px 30px 8px 0px; width: 150px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),"ScanWordFence"==i["function"]&&$("#scanWordfence").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="scanWordfenceProcess" style="margin: 8px 30px 8px 0px; width: 70px;"><span class="processCount">'+e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+a+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>'),formArrayVar[a].initated=1):("refreshStats"==i["function"]&&$("#refreshStatsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadPlugins"==i["function"]&&$("#loadPluginsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadComments"==i["function"]&&$("#loadCommentsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadMalwareData"==i["function"]&&$("#loadMalwareProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadOptimize"==i["function"]&&$("#loadCommentsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadLinks"==i["function"]&&$("#loadLinksProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadPosts"==i["function"]&&$("#loadPostsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadUsers"==i["function"]&&$("#loadUsersProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"runCode"==i["function"]&&$("#runCodeProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadbrokenLinksGetAllLinksResult"==i["function"]&&$("#loadBLAllLinksProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"getBrokenLinksUpdateLink"==i["function"]&&$("#loadBLUpdateLinkProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"getBrokenLinksUndismissLink"==i["function"]&&$("#loadBLUndismissLinkProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadbrokenLinksBulkActionsResult"==i["function"]&&$("#loadBLBulkActionsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadYoastSEOGetInfoResult"==i["function"]&&$("#loadYoastResultsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadYoastSEOSaveInfoResult"==i["function"]&&$("#loadYoastResultsProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"getGoogleWebMastersRedirect"==i["function"]&&$("#googleWebMastersRedirectProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"getGoogleWebMastersRedirectAgain"==i["function"]&&$("#googleWebMastersRedirectAgainProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"FEUploaderResult"==i["function"],"ithemesSecurityLoad"==i["function"]&&$("#LoadIthemesSecurityProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"loadwordFenceResult"==i["function"]&&$("#loadWordfenceProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total),"ScanWordFence"==i["function"]&&$("#scanWordfenceProcess .processCount").text(e.data.getWaitData[a].loaded+"/"+e.data.getWaitData[a].total))),void 0!=e.data.getWaitData[a]&&void 0!=e.data.getWaitData[a].data){"refreshStats"==i["function"]&&($("#refreshStatsProcess").remove(),$("#reloadStats").closest(".btn_reload").show(),"updates"==currentPage||"backups"==currentPage?refreshStats(e.data.getWaitData[a]):refreshStats(e.data.getWaitData[a],"",1)),
"clientUpdate"==i["function"]&&clientUpdateNotificationPush(e.data.getWaitData[a]),"loadPlugins"==i["function"]&&($("#loadPluginsProcess").remove(),$(".fetchInstall").closest(".btn_action").show(),loadManagePanel(e.data.getWaitData[a])),"loadUpdateAll"==i["function"]&&loadUpdateAllPanel(e.data.getWaitData[a]),"loadOptimize"==i["function"]&&($("#loadOptimizeProcess").remove(),$(".loadOptimize").closest(".btn_action").show(),loadOptimizePanel(e.data.getWaitData[a])),"loadComments"==i["function"]&&($("#loadCommentsProcess").remove(),$(".fetchManageComments").closest(".btn_action").show(),loadManageCommentPanel(e.data.getWaitData[a])),"loadMalwareData"==i["function"]&&($("#loadMalwareProcess").remove(),$(".loadMalware").closest(".btn_action").show(),processMalwareData(e.data.getWaitData[a])),"loadPosts"==i["function"]&&($("#loadPostsProcess").remove(),$(".fetchPosts").closest(".btn_action").show(),loadManagePostsPanel(e.data.getWaitData[a])),"loadLinks"==i["function"]&&($("#loadLinksProcess").remove(),$(".fetchPosts").closest(".btn_action").show(),loadManagePostsPanel(e.data.getWaitData[a])),"loadUsers"==i["function"]&&($("#loadUsersProcess").remove(),$(".loadUsersBtn").closest(".btn_action").show(),loadProcessedUserData(e.data.getWaitData[a])),"runCode"==i["function"]&&($("#runCodeProcess").remove(),$("#runSnippetCode").closest(".btn_action").show(),processSnippetResponse(e.data.getWaitData[a])),"loadbrokenLinksGetAllLinksResult"==i["function"]&&($("#loadBLAllLinksProcess").remove(),$(".load_bls_main").closest(".btn_action").removeClass("disabled").show(),brokenLinksGetAllLinks(e.data.getWaitData[a])),"getBrokenLinksUpdateLink"==i["function"]&&($("#loadBLUpdateLinkProcess").remove(),$(".load_bls_main").closest(".btn_action").removeClass("disabled").show(),brokenLinksUpdateLink(e.data.getWaitData[a])),"getBrokenLinksUndismissLink"==i["function"]&&($("#loadBLUndismissLinkProcess").remove(),$(".load_bls_main").closest(".btn_action").removeClass("disabled").show(),brokenLinksUndismissLink(e.data.getWaitData[a])),"loadbrokenLinksBulkActionsResult"==i["function"]&&($("#loadBLBulkActionsProcess").remove(),$(".load_bls_main").closest(".btn_action").removeClass("disabled").show(),brokenLinksBulkActions(e.data.getWaitData[a])),"loadYoastSEOGetInfoResult"==i["function"]&&($("#loadYoastResultsProcess").remove(),$(".load_yseo_main").closest(".btn_action").removeClass("disabled").show(),loadYoastSEOGetInfoResult(e.data.getWaitData[a])),"loadYoastSEOSaveInfoResult"==i["function"]&&($("#loadYoastResultsProcess").remove(),$(".load_yseo_main").closest(".btn_action").removeClass("disabled").show(),loadYoastSEOSaveInfoResult(e.data.getWaitData[a])),"getGoogleWebMastersRedirect"==i["function"]&&($("#googleWebMastersRedirectProcess").remove(),$(".processFile").closest(".btn_action").removeClass("disabled").show(),googleWebMastersRedirect(e.data.getWaitData[a])),"getGoogleWebMastersRedirectAgain"==i["function"]&&($("#googleWebMastersRedirectAgainProcess").remove(),$(".processFile").closest(".btn_action").removeClass("disabled").show(),googleWebMastersRedirectAgain(e.data.getWaitData[a])),"FEUploaderResult"==i["function"]&&FileEditorUploader(e.data.getWaitData[a]),"ithemesSecurityLoad"==i["function"]&&($("#LoadIthemesSecurityProcess").remove(),$("#LoadIthemesSecurity").closest(".btn_action").show(),ithemesSecurityLoad(e.data.getWaitData[a])),"loadwordFenceResult"==i["function"]&&($("#loadWordfenceProcess").remove(),$("#LoadWordfence").closest(".btn_action").show(),wordfenceLoadScan(e.data.getWaitData[a])),"ScanWordFence"==i["function"]&&($("#scanWordfenceProcess").remove(),$("#scanWordfence").closest(".btn_action").show(),wordfenceScan(e.data.getWaitData[a])),"ScanCheckWordFence"==i["function"]&&ScanCheckWordFence(e.data.getWaitData[a]),"testCloneConnection"==i["function"]&&(afterTestConnectionIC(e.data.getWaitData[a]),void 0!=e.data.getWaitData[a].actionResult.status&&"error"==e.data.getWaitData[a].actionResult.status&&(e.data.getWaitData[a].actionResult.status="success")),"backupForClone"==i["function"]&&createBackupAndLoad(e.data.getWaitData[a]),delete formArrayVar[a];var s=e.data.getWaitData[a];void 0==s.actionResult.status||"partial"!=s.actionResult.status&&"error"!=s.actionResult.status||($("#historyQueue").show(),t=0)}});else if("undefined"!=typeof pauseCallRefreshInterval&&clearInterval(pauseCallRefreshInterval),clearInterval(historyRefreshInterval),1==s&&1==a&&(pauseCallRefreshInterval=setInterval(function(){$("#historyQueueUpdateLoading").addClass("loading"),pauseCallRefresh(1,i)},1e3)),"undefined"!=typeof e.sendNextAjaxCallAfter&&null!=e.sendNextAjaxCallAfter)if(0!=e.sendNextAjaxCallAfter)tempTimeOut="undefined"!=typeof forcedAjaxInterval?forcedAjaxInterval<=e.sendNextAjaxCallAfter?1e3*e.sendNextAjaxCallAfter:1e3*forcedAjaxInterval:1e3*e.sendNextAjaxCallAfter,historyRefreshInterval=setInterval(function(){$("#historyQueueUpdateLoading").addClass("loading"),historyRefresh()},tempTimeOut);else{var o=5e3;"undefined"!=typeof forcedAjaxInterval&&(o=forcedAjaxInterval<5?5e3:1e3*forcedAjaxInterval),historyRefreshInterval=setInterval(function(){$("#historyQueueUpdateLoading").addClass("loading"),historyRefresh()},o)}var n=$(".historyItem.active").attr("did");void 0!=n&&$("#"+n+" .content").is(":visible")&&(current_history_detailed_scroll_position=$("#"+n+" .content").scrollTop()),void 0!=e.data&&void 0!=e.data.getHistoryPanelHTML&&$("#activityPopup").html(e.data.getHistoryPanelHTML),-1!=navigator.platform.indexOf("Mac")&&$("#activityPopup .nano").removeClass("nanomac").addClass("nanomac"),$("#historyQueue").show(),$(".historyItem").each(function(){$(this).attr("did")==n&&($(this).click(),"undefined"!=typeof current_history_detailed_scroll_position&&$("#"+n+" .content").scrollTop(current_history_detailed_scroll_position))}),1==t&&$("#historyQueue").hide(),$("#historyQueue .nano").nanoScroller(),1==bottom_count&&null!=sitesList&&void 0!=sitesList&&getPropertyCount(sitesList)>0&&$.each(site,function(e,t){var a=".left_favicon_img_s"+e;$(a).html('<img class="lazyLoad" data-src='+t.favicon+' src="images/custom_wp_favicon.ico"  width="16" height="16">')})}function reloadFavourites(e){favourites=e.data.getFavourites,favouritesGroupData=e.data.getFavouritesGroups,pluginsThemesFavoritesSelector()}function reloadAndLoadFavourites(e){favourites=e.data.getFavourites,favouritesGroupData=e.data.getFavouritesGroups,pluginsThemesFavoritesSelector(),loadFavourites(),triggerNanoScrollerFavoritesGroup()}function createUploader(){new qq.FileUploader({element:document.getElementById("uploaderContent"),action:systemURL+"uploadScript.php",debug:!0})}function uploadFavouriteThemesAndPlugins(){new qq.FileUploader({element:document.getElementById("uploadFavouriteThemesAndPlugins"),action:systemURL+"uploadScript.php",multiple:!1,params:{uploadFavouriteThemesAndPlugins:1},debug:!0});currentUploader="uploadFavouriteThemesAndPlugins"}function showBackupOptions(){$(".th_btm_info").remove();var e=isSiteSelected();e?$("#enterBackupDetails").removeClass("disabled clickNone"):$("#enterBackupDetails").addClass("disabled clickNone"),$("#modalDiv").dialog("option","position","center")}function showItemOptions(){isSiteSelected()?($(".optionsContent").show(),$(".actionContent").html(""),$(".install").hasClass("active")&&$(".advancedInstallOptions").show()):($(".optionsContent").hide(),$(".advancedInstallOptions").hide())}function removeDeleteConf(){$(".del_conf").hide(),$(".ind_groups","#bottom_sites_cont").removeClass("error")}function resetSelectors(){siteSelector(),siteSelector(1),$("#bottomToolBarSelector").html(bottomToolbarVar),$(".siteSelectorContainer").html(siteSelectorRestrictVar),siteSelectorNanoReset(1),$(".select2_bottom .select_group_toolbar").select2({width:"177px"}),$(".toggle_manage_groups").qtip({id:"toggleGroupQtip",content:{text:"Manage Groups"},position:{my:"bottom center",at:"top center",adjust:{y:-6}},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:!0,width:10,height:5}}}),resetGroup(),dynamicResize(),null!=sitesList&&void 0!=sitesList&&getPropertyCount(sitesList)>0&&$.each(site,function(e,t){var a=".left_favicon_img_s"+e;$(a).html('<img class="lazyLoad" data-src='+t.favicon+' src="images/custom_wp_favicon.ico"  width="16" height="16">')}),lazyLoadOnlyVisibleImages()}function processCheckUpdate(e){$("#updates_centre_cont .btn_loadingDiv").remove(),$(".updateActionBtn").removeClass("disabled"),0==e.data.forceCheckUpdate?($(".is_uptodate").remove(),$(".checkUpdateError").remove(),$(".updates_descr").remove(),$(".change_log").remove(),$(".updatePanelData").append('<div class="is_uptodate rep_sprite_backup">InfiniteWP is up to date</div>')):"netError"==e.data.forceCheckUpdate.status?($(".is_uptodate").remove(),$(".checkUpdateError").remove(),$(".updates_descr").remove(),$(".change_log").remove(),$(".updatePanelData").append('<div class="checkUpdateError">'+e.data.forceCheckUpdate.errorMsg+"</div>")):loadPanelUpdate(e.data.forceCheckUpdate),isAddonSuiteMiniLimitExceeded=e.data.checkIsAddonSuiteMiniLimitExceeded,addonSuiteMiniLimit=e.data.getAddonSuiteMiniLimit,addonSuiteMiniActivity=e.data.getAddonSuiteMiniActivity,isAddonSuiteMiniCancelMessage(e.data.isAddonSuiteMiniCancelMessage),setTimeout(function(){updateNotificationContent()},2e3)}function resetVars(e){e=e.data,site=e.getSites,sitesList=e.getSitesList,group=e.getGroupsSites,totalSites=getPropertyCount(site),totalGroups=getPropertyCount(group),totalUpdates=getPropertyCount(mainJson),resetSelectors()}function processSaveChange(e){$(".toolbar_sites_cont","#bottomToolBarSelector").length>0&&$(".toolbar_sites_cont","#bottomToolBarSelector").is(":visible")?tempToolCont="<div class='toolbar_sites_cont'>"+$(".toolbar_sites_cont").html()+"</div>":tempToolCont="",resetVars(e),groupCreateArray={},groupChangeArray={},groupNameArray={},groupDeleteArray={},$("#addWebsiteContainer","#bottomToolBarSelector").after(tempToolCont)}function processTestEmail(e){$("#sendTestEmail").removeClass("sending"),1==e.data.updatesNotificationMailTest?$("#sendTestEmail").addClass("success"):$("#sendTestEmail").addClass("failure")}function processPage(e,t){if(bottomLinePromotion("pre",e),"updates"==e&&"undefined"!=typeof processPageAccess){var a=processPageAccess(e);if(0==a)return;(1!=a||1!=a)&&(e=a)}if(currentPage=e,"items"==e)totalSites>0?(loadItemManage(),$(".typePlugin").removeClass("active"),$(".typePlugin").click(),$(".optionsContent").hide()):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Plugins & Themes of WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>');else if("clientReporting"==e)totalSites>0?loadReportingMainPage():$("#pageContent").html('<div class="empty_data_set"> <div class="line1">You can generate the reports based on your activities in terms of updates, backups, etc...</div></div>');else if("upTimeMonitor"==e)totalSites>0?loadupTimeMonitorMainPage():$("#pageContent").html('<div class="empty_data_set"> <div class="line1">UpTimeMonitor options from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>');else if("malwareSecurity"==e)totalSites>0?loadMalwareSecurityMainPage():$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Malware Security option from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>');else if("wpOptimize"==e)totalSites>0?(loadOptimizeMainPage(),$(".optionsContent").hide()):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Wp OPtimization option from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>');else if("googleAnalytics"==e)if(totalSites>0){var i={};i.requiredData={},i.requiredData.googleAnalyticsActiveSites=1,doCall(ajaxCallPath,i,"loadGooglePage")}else $("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>');else if("comments"==e)totalSites>0?(loadCommentManage(),$(".optionsContent").hide()):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>');else if("codeSnippets"==e)loadSnippetPage();else if("posts"==e)totalSites>0?($(".typePosts").removeClass("active"),$(".typePosts").click(),loadPostsManage(),$(".optionsContent").hide()):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Posts and pages of WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>');else if("updates"==e)totalSites>0?totalUpdates>0?(loadUpdateContent(),"undefined"!=typeof isGoogle&&1==isGoogle&&loadGoogleContent(),"undefined"!=typeof isGoogleWM&&1==isGoogleWM&&getGoogleWebMastersContent(),parentFlag=0,$("#siteViewUpdateContent").html(displayUpdateContent("sites")),$("#WPViewUpdateContent").html('<div class="empty_data_set hiddenCheck" style="display:none"> <div class="line2">Hurray! All WordPress Installations are up-to-date.</div></div>'+displayUpdateContent("wp")),$("#themeViewUpdateContent").html('<div class="empty_data_set hiddenCheck" style="display:none"> <div class="line2">Hurray! All Themes are up-to-date.</div></div>'+displayUpdateContent("themes")),$("#pluginViewUpdateContent").html('<div class="empty_data_set hiddenCheck" style="display:none"> <div class="line2">Hurray! All Plugins are up-to-date.</div></div>'+displayUpdateContent("plugins")),$("#TranslationViewUpdateContent").html('<div class="empty_data_set hiddenCheck" style="display:none"> <div class="line2">Hurray! All translations are up-to-date.</div></div>'+displayUpdateContent("translations")),currentUpdatePage="siteViewUpdateContent",$.each(updateCheckArray,function(e,t){checkGeneralSelect(e,"",1),$(".count span",".row_"+e).text($(".row_"+e+" .item_ind").not(".hidden").length)}),$(function(){$(".websites_view").click(),viewHiddenFlag=0,$("#mainUpdateCont .hideVar").hide(),$("#mainUpdateCont .hidden").hide()}),1==groupOperationFlag&&hideSitesBasedOnGroup(),$(".update_by_group .select_group_toolbar").select2({width:"177px"})):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Everything is up-to-date. Woooo!!</div> <div class="line2">You are smart & safe.</div> </div>'):$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Updates to your WP, Plugins & Themes will be listed out here.</div> <div class="line2">You can update them all at once or by items & can also hide all future updates for specific items.</div> </div>'),"undefined"!=typeof mainJson.updatePageEmailCronReqNotification&&1==mainJson.updatePageEmailCronReqNotification&&$("#pageContent").prepend('<div class="setCronNotification" style="border-left: 2px solid #d0b000; position:relative; background-color: #FEF5C2; padding: 10px;">If you want to receive update notification emails, you need to set up a cron job. Go to <a id="goCronSettings">Settings -> Cron</a> to set it up now. <div class="dismiss_notification"><a>Dismiss</a></div></div>');else if("backups"==e)if(totalSites>0){var i={};i.requiredData={},i.requiredData.getSitesBackupsHTML=1,doCall(ajaxCallPath,i,"loadBackupPage")}else $("#pageContent").html('<div class="empty_data_set"> <div class="line1">Website backups you create will be listed here.</div> <div class="line2">You can restore, download and delete backups.</div> </div>');else if("history"==e)if(totalSites>0){var i={};i.requiredData={},i.requiredData.getHistoryPageHTML=1,i.requiredData.getActivityCategories=1,"undefined"!=typeof multiUserAddonFlag&&multiUserAddonFlag&&"admin"==currentUserAccessLevel&&(i.requiredData.getAccessibleUsers=1),doCall(ajaxCallPath,i,"loadHistoryPage")}else $("#pageContent").html('<div class="empty_data_set"> <div class="line1">All your site related activities will be logged here.</div></div>');else if("loginLog"==e){$(".page_section_title").html("Login log");var i={};i.requiredData={},i.requiredData.getLogPageHTML=1,"undefined"!=typeof multiUserAddonFlag&&multiUserAddonFlag&&"admin"==currentUserAccessLevel&&(i.requiredData.getAccessibleUsers=1),doCall(ajaxCallPath,i,"loadLogHistoryPage")}else if("installClone"==e)installCloneLoad();else if("addons"==e)loadAddonsPage();else if("userManagement"==e)loadUserManagement();else if("brokenLinks"==e)loadBrokenLinksPage();else if("googleWebMasters"==e)if(totalSites>0){var i={};i.requiredData={},i.requiredData.googleWebMastersActiveSites=1,doCall(ajaxCallPath,i,"loadGoogleWebMastersPage")}else $("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>');else"fileEditor"==e?loadFileEditorPage():"gPageSpeed"==e?loadGooglePageSpeedPage():"wordFence"==e?loadWordFenceMainPage():"ithemesSecurity"==e?loadIthemesSecurityMainPage():"yoastWpSeo"==e?loadYoastWpSeoPage():"iwpusers"==e&&loadAdmins();setTimeout(function(){bottomLinePromotion("post",e)},1e3),bottomLinePromotion("post",e)}function bottomLinePromotion(e,t){content=!1,"pre"==e||"post"==e&&(content=getContentForBottomLine(t),lastBottomLinePage=t,"undefined"!=typeof content&&""!=content?($("#bottomLine").remove(),lastBottomLineContent='<div id="bottomLine" class="bottom_line_promo">'+content+"</div>",$("#pageContent").append(lastBottomLineContent)):lastBottomLineContent="")}function detechAndSetBottomLine(){lastBottomLinePage==currentPage&&lastBottomLineContent.length>1&&(0==$("#bottomLine").length?$("#pageContent").append(lastBottomLineContent):"bottomLine"!=$("#pageContent").children().last().attr("id"))}function getBottomLineByThisPage(e){var t=Array();finaleReturn=!1;var a=Array(),i=Array();if(o=0,"undefined"!=typeof purchasedAddonsGlobal&&null!=purchasedAddonsGlobal){var s=0;jQuery.each(purchasedAddonsGlobal,function(e,a){"length"!=e&&(t[s]=e),s++})}if("undefined"!=typeof markBottomLines&&""!=markBottomLines&&null!=markBottomLines){var o=0;$.each(markBottomLines,function(e,t){if("mainPanel_backups"==e||"mainPanel_updates"==e||"mainPanel_activityLog"==e||"mainPanel_addons"==e||"mainPanel_pluginsThemes"==e){if("undefined"!=typeof t.promoteHere&&""!=t.promoteHere&&null!=t.promoteHere)var a=t.promoteHere.split(",");"undefined"!=typeof a&&$.each(a,function(e,t){i[o]=t,o++})}else i[o]=e,o++})}return"undefined"!=typeof i&&""!=i&&null!=i&&$.each(i,function(e,i){"undefined"!=typeof t&&(a[o]=i,o++)}),a.length<1?finaleReturn:("undefined"!=typeof markBottomLines&&null!=markBottomLines&&"undefined"!=typeof markBottomLines[e]&&markBottomLines[e]&&(thisPagePromoDetails=markBottomLines[e],"undefined"!=typeof thisPagePromoDetails.promoteHere&&null!=thisPagePromoDetails.promoteHere&&thisPagePromoDetails.promoteHere.length>1&&(promoteHere=thisPagePromoDetails.promoteHere.split(","),randKey=!1,"1"==thisPagePromoDetails.isRand&&(randKey=!0),"undefined"!=typeof promoteHere&&""!=promoteHere&&null!=promoteHere&&$.each(promoteHere,function(e,a){if("undefined"!=typeof t&&-1==jQuery.inArray(a,t)&&"undefined"!=typeof markBottomLines[a]&&"undefined"!=typeof markBottomLines[a].promoContent){if(finaleReturn=markBottomLines[a].promoContent,randKey){if(0==Math.floor(2*Math.random()+0))return!1;return}return!1}}))),finaleReturn)}function getContentForBottomLine(e){return"items"==e?getBottomLineByThisPage("mainPanel_pluginsThemes"):"clientReporting"==e?getBottomLineByThisPage("clientReporting"):"upTimeMonitor"==e?getBottomLineByThisPage("uptimeMonitorUptimeRobot"):"malwareSecurity"==e?getBottomLineByThisPage("malwareScanningSucuri"):"wpOptimize"==e?getBottomLineByThisPage("wpOptimize"):"googleAnalytics"==e?getBottomLineByThisPage("googleAnalytics"):"comments"==e?getBottomLineByThisPage("manageComments"):"codeSnippets"==e?getBottomLineByThisPage("codeSnippets"):"posts"==e?getBottomLineByThisPage("bulkPublish"):"updates"==e?getBottomLineByThisPage("mainPanel_updates"):"backups"==e?getBottomLineByThisPage("mainPanel_backups"):"history"==e?getBottomLineByThisPage("mainPanel_activityLog"):"installClone"==e?getBottomLineByThisPage("installClone"):"addons"==e?getBottomLineByThisPage("mainPanel_addons"):"userManagement"==e?getBottomLineByThisPage("manageUsers"):"brokenLinks"==e?getBottomLineByThisPage("brokenLinks"):"googleWebMasters"==e?getBottomLineByThisPage("googleWebMasters"):"fileEditor"==e?getBottomLineByThisPage("fileEditor"):"gPageSpeed"==e?getBottomLineByThisPage("googlePageSpeed"):"wordFence"==e?getBottomLineByThisPage("wordFence"):!1}function processHideUpdate(e){mainJson=e.data.getSitesUpdates,sitesjson=mainJson.siteView,pluginsjson=mainJson.pluginsView.plugins,themesjson=mainJson.themesView.themes,translationsjson=mainJson.translationsView.translations,wpjson=mainJson.coreView.core}function groupSelected(){var e=0,t={};return $(".js_addSite.active",".addSiteGroups").each(function(){t[e]=$(this).attr("gid"),e+=1}),t}function testAlert(e){}function getSelectedSites(e){var t={};void 0==e?e=".siteSelectorContainer":e+=" .siteSelectorContainer";var a=0;return $(".website_cont.active",e).each(function(){t[a]=$(this).attr("sid"),a++}),t}function installItems(e,t,a){if(void 0==t||""==t){dLink=$(e).attr("dlink");var i=$(e).attr("dlink")}else dLink=t;var s={};s.args={},s.args.params={},s.args.siteIDs={};var o={};s.action="install"+activeItem.toTitleCase(),o[activeItem]={},a>0?(s.args.siteIDs=getSelectedSites(),2==a?1==wpRepositoryFlag?o[activeItem]=i:o[activeItem]=dLink:1==wpRepositoryFlag?o[activeItem][0]=i:o[activeItem][0]=dLink):(s.args.siteIDs[0]=$(e).attr("sid"),1==wpRepositoryFlag?o[activeItem][0]=i:o[activeItem]=dLink),$(".activateItem").hasClass("active")&&(o.activate=!0),$(".overwriteItem").hasClass("active")&&(o.clearDestination=!0),s.args.params=o,wpRepositoryFlag=0,$(".installFavourites").removeClass("disabled"),doHistoryCall(ajaxCallPath,s)}function processAppSettings(e){$("#saveSettingsBtn").removeClass("disabled"),$("#settings_cont .btn_loadingDiv").remove(),$("#saveSuccess").show(),setTimeout(function(){$("#settings_cont").hide(),$("#saveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),loadSettingsPage(e)}function ajaxRepositoryCall(e){var t="";t="plugins"==activeItem?'<div class="th_sub rep_sprite" style="border-top:1px solid #D2D5D7;"> <div class="label" style="float:left;"><span style="margin-right:193px;">PLUGIN NAME</span></div> <div class="label" style="float:left;"><span style="margin-right:26px;">VERSION</span></div> <div class="label" style="float:left;"><span style="margin-right:28px;">RATING</span></div> <div class="label" style="float:left;"><span style="margin-top: -24px;">DESCRIPTION</span></div> </div><div class="wp_repository_search_results">':'<div class="wp_repository_search_results" style="border-top:1px solid #D2D5D7;"><div class="tr_theme" style="float:left">',t+=e.data.getWPRepositoryHTML,t+="plugins"==activeItem?"</div>":'<div class="clear-both"></div></div></div>',$(".wp_repository_cont").html(t),$(".searchItem").removeClass("disabled"),$(".installSubPanel .btn_loadingDiv").remove(),$(".searchCont").is(":visible")&&"search"!=$(".searchVar.active").attr("dval")&&$(".searchCont").hide()}function installFavourites(){var e,t,a={},i=0;$(".favItems.active a").each(function(){e=$(this).attr("dlink"),t=$(this).attr("utype"),a[i]=e,i++}),installItems("",a,2)}function getLinksAndInstallFavourites(){var e,t,a,i={},s=0;$(".favItems.active a[dlink]").each(function(){a=$(this).attr("islug"),e=$(this).attr("dlink"),t=$(this).attr("utype"),i[s]={},i[s].slug=a,i[s].downloadLink=e,s++}),getFavDownloadLink(i)}function getFavDownloadLink(e){var t={};t.requiredData={};var a={};a.type=activeItem,a.searchItem={},a.searchItem=e,t.requiredData.getFavDownloadLinks=a,doCall(ajaxCallPath,t,"processFavLinks","json","none")}function processFavLinks(e){var t=e.data.getFavDownloadLinks;installItems("",t,2)}function removeActiveElements(){$("#view_content .applyChangesCheck").each(function(){$(this).hasClass("active")&&$(this).closest("ul").before('<div class="queued_single">Queued..</div>').remove()})}function applyChanges(e){var t,a,i,s,o,n,d={},l=0;closestVar=$(e).closest(".siteSearch"),$(".applyChangesCheck.active").each(function(){$(this).closest(".ind_row_cont").hasClass("hide")||(t=$(this).attr("sid"),a=$(this).attr("did"),i=$(this).attr("utype"),s=$(this).attr("action"),o=$(this).attr("itemName"),void 0==d[t]&&(d[t]={}),void 0==d[t][i]&&(d[t][i]={}),n={},n.name=o,n.path=a,n.action=s,"themes"==activeItem&&(n.stylesheet=$(this).attr("stylesheet")),d[t][i][l]=n,l++)});var r={};r.args={},r.args.params={},r.action="manage"+activeItem.toTitleCase(),r.args.params=d,doHistoryCall(ajaxCallPath,r,"")}function isSiteSelected(e){var t=$(".website_cont.active",".siteSearch").length;return t>0?t:!1}function triggerSettingsButton(){$("#saveSettingsBtn").removeClass("disabled")}function processSettingsForm(e){var t=e;if(e=e.data.updateAccountSettings,$("#saveSettingsBtn").removeClass("disabled"),$("#settings_cont .btn_loadingDiv").remove(),"error"==e.status&&"invalid_password"==e.error){var a=$("#currentPassword").closest(".valid_cont");$(".valid_error",a).show(),$(".valid_error div",a).text("Invalid password. Kindly Check again.")}else $("#saveSuccess").show(),setTimeout(function(){$("#settings_cont").hide(),$("#saveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),loadSettingsPage(t)}function validateSettingsForm(){var e,t=!1,a=$("#newPassword").val(),i=$("#currentPassword").val();return""==i?(e=$("#currentPassword").closest(".valid_cont"),$(".valid_error",e).show(),$(".valid_error",e).text("Please enter the current password."),$("#currentPassword").addClass("error"),!0):""==a?(e=$("#newPassword").closest(".valid_cont"),$(".valid_error",e).show(),$(".valid_error",e).text("Please enter a new password."),$("#newPassword").addClass("error"),!0):t}function processReport(e){$("#modalDiv .btn_loadingDiv").remove(),1==e.data.sendReportIssue?($("#modalDiv .form_cont").html('<span id="addSiteSuccessMsg"><span class="success_icon"></span>The report has been sent.</span>'),$("#sendReportBtn").hide(),setTimeout(function(){$("#modalDiv").dialog("close")},2e3)):($("#modalDiv .form_cont").html('<span id="addSiteErrorMsg"><span class="fail_icon"></span>The report could not be sent. Try again or contact help@infinitewp.com</span></span>'),$("#sendReportBtn").hide(),setTimeout(function(){$("#modalDiv").dialog("close")},2e3))}function doCall(url,data,callback,dataType,animationLoad,historyRefreshCheck){if(0==stopAllAction){if(void 0==data.requiredData&&(data.requiredData={}),data.requiredData.getHistoryPanelHTML=1,data.requiredData.isAddonSuiteLimitExceededAttempt=1,data.requiredData.checkIsMiniExpired=1,data.requiredData.getCurrentTimestamp=1,1==historyRefreshCheck&&0==historyRefreshCheckFlag)historyRefreshCheckFlag=1;else if(1==historyRefreshCheck&&1==historyRefreshCheckFlag)return!1;if("noProgress"!=animationLoad&&$("#process_queue").addClass("in_progress"),void 0==animationLoad)var animationLoad="normal",loaderDiv="#loadingDiv";"normal"==animationLoad&&$(loaderDiv).show(),void 0==dataType&&(dataType="json"),$.ajax({traditional:!0,type:"post",url:url,dataType:dataType,data:$.param(data),success:function(request){if("normal"==animationLoad&&$(loaderDiv).hide(),historyRefreshCheckFlag=0,void 0!=request&&void 0!=request.logout&&1==request.logout&&(window.location.href="login.php"),doCheckDoCallAndHistoryCallForMini(request,data),void 0!=callback&&eval(callback+"(request)"),"json"==dataType&&"reloadHistory"!=callback&&reloadHistory(request),0==updateAvailable&&void 0!=request.updateAvailable&&0!=request.updateAvailable&&(updateAvailable=request.updateAvailable,updateAvailableNotify=!0,loadPanelUpdate(request.updateAvailable)),void 0!=request&&void 0!=request.notifications&&(fixedNotifications=request.notifications,loadFixedNotifications()),void 0!=request&&void 0!=request.addonAlertCount){var addonAlertCount=parseInt(request.addonAlertCount);addonAlertCount>0?$("#iwpAddonsBtn .count").html(addonAlertCount).show():$("#iwpAddonsBtn .count").hide()}void 0==request||void 0==request.actionResult||void 0==request.actionResult.status||"partial"!=request.actionResult.status&&"error"!=request.actionResult.status||$("#historyQueue").show()},error:function(){historyRefreshCheckFlag=0}})}}function processUpdateNow(e){var t='<iframe src="./update.php?action=appUpdate&newVersion='+e+'" height="170px" width="320px" border="0" ></iframe>';$(".updatePanelData").html(t)}function doHistoryCall(url,data,callback,dataType){0==stopAllAction&&(void 0==data.requiredData&&(data.requiredData={}),data.requiredData.getHistoryPanelHTML=1,data.requiredData.isAddonSuiteLimitExceededAttempt=1,data.requiredData.checkIsMiniExpired=1,data.requiredData.getCurrentTimestamp=1,$("#process_queue").addClass("in_progress"),$("#historyQueue").show(),$(".queue_ind_item_cont .content").prepend('<div class="queue_ind_item historyItem">Adding to queue ...<div class="clear-both"></div></div>'),void 0==dataType&&(dataType="json"),$.ajax({traditional:!0,type:"post",url:url,dataType:dataType,data:$.param(data),success:function(request){void 0!=request.logout&&1==request.logout&&(window.location.href="login.php"),doCheckDoCallAndHistoryCallForMini(request,data),"json"==dataType&&reloadHistory(request),void 0!=callback&&eval(callback+"(request)"),0==updateAvailable&&void 0!=request.updateAvailable&&0!=request.updateAvailable&&(updateAvailable=request.updateAvailable,updateAvailableNotify=!0,loadPanelUpdate(request.updateAvailable)),void 0!=request&&void 0!=request.notifications&&(fixedNotifications=request.notifications,loadFixedNotifications())}}))}function cancelEvent(e){return e=e?e:window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function getFirstKey(e,t){var a;return $.each(e,function(e,i){return 2!=t?(a=e,!1):void $.each(i,function(e,t){return a=t,!1})}),a}function getLastKey(e){return $.each(e,function(e,t){tempVal=e}),tempVal}function makeHistorySelection(e,t){void 0==t&&(t="parent"),$(".queue_detailed","."+t).hide(),$(e).hasClass("active")?($(e).removeClass("active"),$("#"+$(e).attr("did")).hide()):($(".historyItem","."+t).removeClass("active"),$(e).addClass("active"),$("#historyQueue #"+$(e).attr("did")).nanoScroller({stop:!0}),$("#"+$(e).attr("did")).show(),$("#historyQueue #"+$(e).attr("did")).nanoScroller())}function siteSelector(e){var t,a="",i="",s="",o="",n="",d="";null!=group&&void 0!=group&&getPropertyCount(group)>0?$.each(group,function(e,a){t=void 0!=a.siteIDs?a.siteIDs.length:0,i=i+'<div class="group_cont rep_sprite" id="g'+e+'" gid="'+e+'" onclick=""><a title="'+a.name+'" >'+a.name+"</a></div>",n=n+'<div class="ind_groups" id="g'+e+'" gid="'+e+'" onclick=""><a title="'+a.name+'" onclick=""><span class="count_cont">'+t+'</span><input name="" type="text" value="'+a.name+'" class="groupEditText" /></a>   <div class="del_conf"><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>'}):(i="",n='<div class="empty_data_set websites"> <div class="line1" style="margin-top:200px;">Organize your WordPress sites into groups for easy managing.</div> <div class="line2">Go ahead. Create a group now.</div> <div class="arrow2"></div> </div>'),null!=sitesList&&void 0!=sitesList&&getPropertyCount(sitesList)>0?$.each(sitesList,function(t,a){1==a.network&&0==a.parent&&1==e?(extraRestrictClass="disabled",
extraTitle=" - Its a network subsite."):(extraRestrictClass="",extraTitle=""),s=s+'<div class="website_cont searchable deselectGroups '+extraRestrictClass+'" id="s'+a.siteID+'"  sid="'+a.siteID+'" onclick=""><a title="'+a.name+extraTitle+'">'+a.name+"</a></div>";var i='<span class="left_favicon_img_'+t+'"></span>';d=d+'<div class="ind_sites searchable js_sites bottomSites"  blogPublic="'+a.blogPublic+'" id="s'+a.siteID+'" sid="'+a.siteID+'" onclick=""><a title="'+a.name+'" class="site_selector_name">'+i+a.name+"</a></div>"}):(s="",d='<div class="empty_data_set websites"> <div class="line1">No websites added yet..</div> <div class="line2">That makes us sad. Come on.<br /> Lets add one of your WordPress sites.</div> <div class="add_site_arrow"></div> </div>'),a='<div class="site_selector1 shadow_stroke_box siteSearch"> <div class="bygroup"><div class="th rep_sprite"><div class="title">by <span class="droid700">Groups</span></div><div class="clear-both"></div></div>',a+='<div class="group_items_cont" ><div class="content"><div class="group_cont rep_sprite" id="g0" onclick=""><a>All Websites</a></div>',a=a+i+"</div></div></div>",a+='<div class="bywebsites"> <div class="th rep_sprite"> <div class="title">by <span class="droid700">Websites</span></div> <div class="type_filter"> <input name="" placeholder="type to filter" type="text" class="input_type_filter search_site" ><div class="clear_input rep_sprite_backup"  onclick=""></div> </div> <div class="select_cont"><span>Select: </span><a class="siteSelectorSelect">All</a><a class="siteSelectorSelect">Invert</a><a class="siteSelectorSelect">None</a></div> <div class="clear-both"></div> </div> <div class="website_items_cont"><div class="content">',a=a+s+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div> <div class="clear-both"></div> </div></div> <div class="clear-both"></div> </div><div class="clear-both"></div></div>',o='<div id="bottom_sites_cont" style="display:none"><div id="bottom_left" class="float-left"><div class="list_cont nano"><div class="content"><div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div>',o=o+d+' </div> </div> <div class="bottom_bar rep_sprite"> <div class="select_box_cont select2_bottom float-left" >'+groupGenerate(1,"bottom")+'</div> <div class="rep_sprite toggle_manage_groups float-right"><a class="rep_sprite_backup"></a></div> </div> <div class="bottom_subbar rep_sprite"><div style="position:relative;"><input name="" type="text" class="input_type_filter search_site" placeholder="type to filter" ><div onclick="" class="clear_input rep_sprite_backup"></div></div> </div> </div> <div id="bottom_right" class="float-left"> <div class="list_cont nano"> <div class="content">',o=o+n+' </div> </div> <div class="bottom_bar rep_sprite"><div class="btn_action float-right "><a class="rep_sprite btn_blue" id="save_group_changes" style="display:none" onclick="">Save Changes</a></div></div> <div class="bottom_subbar rep_sprite" id="createGroupCont"> <input name="" type="text" class="input_type_filter  float-left onEnter groupClear" onenterbtn=".btn_create_group" id="newgroup" placeholder="new group" > <div class="btn_create_group rep_sprite float-left user_select_no" >Create</div> </div> </div> </div> <div id="btn" class="showFooterSelector" onclick="">   </div><div class="site_bar_btn add_site rep_sprite float-left" style="margin-left: 54px;" id="addWebsiteContainer"><div class="btn_add_site rep_sprite_backup" id="addWebsite">Add Website</div></div>',bottomToolbarVar=o,1==e?siteSelectorRestrictVar=a:siteSelectorVar=a}function pluginsThemesFavoritesSelector(){scontent="",totalSiteCount="",sgcontent="",sscontent="",bcontent="",bgcontent="",bscontent="",null!=favouritesGroupData&&void 0!=favouritesGroupData&&$.each(favouritesGroupData,function(e,t){void 0!=t.IDs?totalSiteCount=t.IDs.length:totalSiteCount=0,sgcontent=sgcontent+'<div class="group_cont rep_sprite favGroup ind_site favItems searchable" style="width:250px!important;height: 30px !important;" gid="'+e+'" type="'+t.type+'" onclick=""><a type="'+t.type+'" title="'+t.name+'" >'+t.name+'</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites"></span></div></div>',bgcontent=bgcontent+'<div class="ind_groups" id="g'+e+'" gid="'+e+'" onclick=""><a title="'+t.name+'" onclick=""><span class="count_cont">'+totalSiteCount+'</span><input name="" type="text" value="'+t.name+'" class="groupEditText" /></a>   <div class="del_conf"><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>'}),null!=favourites&&void 0!=favourites&&getPropertyCount(favourites)>0?$.each(favourites,function(e,t){$.each(t,function(e,t){sscontent=sscontent+'<div class="ind_site favItems searchable" style="width:235px; border-right:1px solid #f1f1f1"><a id="f'+t.ID+'"  utype="'+t.type+'" onclick="" dlink="'+t.URL+'" iname="'+t.name+'" title="'+t.name+'">'+t.name+'</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites "></span></div> </div>',bscontent=bscontent+'<div class="ind_site favItems searchable"><a id="f'+t.ID+'"  utype="'+t.type+'" onclick="" dlink="'+t.URL+'" iname="'+t.name+'" title="'+t.name+'">"'+t.name+'"</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites "></span></div> </div>'})}):(sscontent="",bscontent='<div class="empty_data_set websites"> <div class="line1">No websites added yet..</div> <div class="line2">That makes us sad. Come on.<br /> Lets add one of your WordPress sites.</div> <div class="add_site_arrow"></div> </div>'),scontent='<div class="site_selector1 siteSearch"> <div class="bygroup" style="width: 249px;">',scontent+='<div class="group_items_cont favouritesGroup" ><div class="content fav_rows_cont">',scontent=scontent+sgcontent+"</div></div></div>",scontent+='<div class="bywebsites">   <div class="website_items_cont favouritesItems" ><div class="content fav_rows_cont favSearch">',scontent=scontent+sscontent+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div> <div class="clear-both"></div> </div></div> <div class="clear-both"></div> </div><div class="clear-both"></div></div>',bcontent='<div id="bottom_sites_cont" style="display:none"><div id="bottom_left" class="float-left"><div class="list_cont nano"><div class="content"><div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div>',bcontent=bcontent+bscontent+' </div> </div> <div class="bottom_bar rep_sprite"> <div class="select_box_cont select2_bottom float-left" >'+groupGenerate(1,"bottom")+'</div> <div class="rep_sprite toggle_manage_groups float-right"><a class="rep_sprite_backup"></a></div> </div> <div class="bottom_subbar rep_sprite"><div style="position:relative;"><input name="" type="text" class="input_type_filter search_site" placeholder="type to filter" ><div onclick="" class="clear_input rep_sprite_backup"></div></div> </div> </div> <div id="bottom_right" class="float-left"> <div class="list_cont nano"> <div class="content">',bcontent=bcontent+bgcontent+' </div> </div> <div class="bottom_bar rep_sprite"><div class="btn_action float-right "><a class="rep_sprite btn_blue" id="save_group_changes" style="display:none" onclick="">Save Changes</a></div></div> <div class="bottom_subbar rep_sprite" id="createGroupCont"> <input name="" type="text" class="input_type_filter  float-left onEnter groupClear" onenterbtn=".btn_create_group" id="newgroup" value="new group" > <div class="btn_create_group rep_sprite float-left user_select_no" >Create</div> </div> </div> </div> <div id="btn" class="showFooterSelector" onclick="">   </div><div class="site_bar_btn add_site rep_sprite float-left" style="margin-left: 54px;" id="addWebsiteContainer"><div class="btn_add_site rep_sprite_backup" id="addWebsite">Add Website</div></div>',testingBottom=bcontent,favoritesGroupsContent=scontent}function triggerNanoScrollerFavoritesGroup(){"0px"!=$(".favouritesGroup").css("height")&&($(".favouritesGroup").nanoScroller({alwaysVisible:!0,scroll:"top"}),$(".favouritesGroup").css("height","160px").addClass("nano"),$(".favouritesGroup").nanoScroller()),$(".favouritesItems").nanoScroller({alwaysVisible:!0,scroll:"top"}),$(".favouritesItems").css("height","160px").addClass("nano"),$(".favouritesItems").nanoScroller()}function updateSites(e,t){var a,i,s,o=0,n={},d={};if($("span.statusSpan",e).text("Queued.."),$("span.statusSpan",e).addClass("updating"),$("span.typeVar",e).hide(),1==t){var l="#"+currentUpdatePage,r=$(e).attr("selector");$(".item_ind."+r+".active",l).not(".hide").not(".hidden").not(".updating").each(function(){$(this).closest(".ind_row_cont").hasClass("hide")||$(this).closest(".ind_row_cont").hasClass("hidden")||($(".update_single",this).text("Queued.."),$(".hideItem",this).hide(),$(this).addClass("updating"),$(this).removeClass("active"),$(".row_checkbox",this).hide(),a=$(this).attr("sid"),i=$(this).attr("did"),s=$(this).attr("utype"),void 0==n[a]&&(n[a]={}),void 0==n[a][s]&&(n[a][s]={}),"core"==s?void 0!=a&&void 0!=s&&void 0!=i&&(n[a][s]=i):void 0!=a&&void 0!=s&&void 0!=i&&(n[a][s][o]=i),o++)})}else{var c=$(e).closest(".item_ind");$(c).addClass("updating"),$(".update_single",c).text("Queued.."),$(".hideItem",c).hide(),$(c).removeClass("active"),$(".row_checkbox",c).hide(),a=$(c).attr("sid"),i=$(c).attr("did"),s=$(c).attr("utype"),void 0==n[a]&&(n[a]={}),void 0==n[a][s]&&(n[a][s]={}),"core"==s?void 0!=a&&void 0!=s&&void 0!=i&&(n[a][s]=i):void 0!=a&&void 0!=s&&void 0!=i&&(n[a][s][0]=i)}var p=$(e).closest(".ind_row_cont");$(".item_ind",p).not(".hidden").not(".hide").length==$(".item_ind.updating",p).not(".hidden").not(".hide").length&&($(p).addClass("updating"),$(".select_action,.select_action_long",p).hide()),checkUpdateSelect(e),$("span.statusSpan",e).removeClass("updating"),d.action="updateAll",d.args={},d.args.params=n,doCall(ajaxCallPath,d,"formArrayUpdateAll","json","none")}function resetFilterText(e){$(".input_type_filter",e).val("").focus().blur(),$(".hiddenCont, .clear_input",e).hide()}function filterByGroup(e,t,a){var i=$("#mainUpdateCont .optionSelect.active").text(),s="",o="";""==e||void 0==e?closestVar=$("#bottomToolBarSelector"):closestVar=$(e).closest(".siteSearch"),$(".input_type_filter",closestVar).val("").focus().blur(),$(".hiddenCont, .clear_input",closestVar).hide(),0==t?($(".js_sites",closestVar).removeClass("hide").removeClass("groupHide"),2==groupOperationFlag&&("Websites"==i?$("#siteViewUpdateContent .js_sites").removeClass("hide").removeClass("groupHide"):$(".plugin_theme_wp_group_hide").removeClass("hide").removeClass("groupHide"))):($(".js_sites",closestVar).removeClass("groupHide").addClass("hide").addClass("groupHide"),2==groupOperationFlag&&("Websites"==i?(s="#siteViewUpdateContent .js_sites",o="siteid"):(s=".plugin_theme_wp_group_hide",o="sid"),$(s).removeClass("groupHide").addClass("hide").addClass("groupHide")),getPropertyCount(group[t].siteIDs)>0&&$.each(group[t].siteIDs,function(e,t){$('[sid="'+t+'"]',"#bottomToolBarSelector").removeClass("hide").removeClass("groupHide"),2==groupOperationFlag&&$(s).each(function(){$(this).attr(o)==t&&$(this).removeClass("hide").removeClass("groupHide")})})),1==a&&checkGeneralSelect("ind_row_cont"),lazyLoadOnlyVisibleImages()}function filterByGroupUpdate(e,t,a){closestVar=$(e).closest(".siteSearch");var i=0,s=0;0==t?($(".js_sites",closestVar).removeClass("hide"),$("#siteViewUpdateContent .js_sites").removeClass("hide").removeClass("groupHide")):($(".js_sites",closestVar).removeClass("groupHide").addClass("hide").addClass("groupHide"),classSelector="#siteViewUpdateContent .js_sites",siteAttr="siteid",$(classSelector).removeClass("groupHide").addClass("hide").addClass("groupHide"),getPropertyCount(group[t].siteIDs)>0&&$.each(group[t].siteIDs,function(e,t){$(classSelector).each(function(){$(this).attr(siteAttr)==t&&$(this).removeClass("hide").removeClass("groupHide")})})),$(classSelector).each(function(){i+=1,$(this).hasClass("hide")&&(s+=1)}),i==s&&($("#siteViewUpdateContent .no_match").next(".group_error_message").remove(),$("#siteViewUpdateContent .no_match").after('<div class="no_match group_error_message" >No updates available in this group</div>'))}function groupGenerate(e,t){var a="";if(2==e)var i="";if(1==e)var s="_toolbar";else var s="";return void 0==t&&(t=incrementRand),a='<select name="rand_'+t+'" class="select_group'+s+'" tabindex="2"><option value="0">All Websites</option>',$.each(group,function(t,s){2==e&&(i=i+'<div class="ind_group js_addSite g'+t+'" gid="'+t+'"><a>'+s.name+"</a></div>"),a=a+'<option value="'+t+'">'+s.name+"</option>"}),a+="</select>",incrementRand++,2==e?i='<div class="group_selector"><div class="content">'+i+'</div><div class="clear-both"></div> </div>':a}function selectorBind(e,t){"ind_row_cont"!=$(e).attr("selector")?selection(t,$(e).attr("selector"),e):mainUpdateSelection(t,e)}function showOrHide(e,t,a,i){a="#"+a,1==i&&resetGroup(),$(a).is(":visible")?($(a).hide(),$(e).removeClass(t),"true"!=toolTipData.manageGroups&&"#bottom_sites_cont"==a&&$(".toggle_manage_groups").qtip("destroy")):("true"!=toolTipData.manageGroups&&"#bottom_sites_cont"==a&&$(".toggle_manage_groups").qtip({events:{hide:function(e,t){tempArray={},tempArray.requiredData={},valArray={},valArray.manageGroups=!0,tempArray.requiredData.updateUserhelp=valArray,tempArray.requiredData.getUserHelp=1,doCall(ajaxCallPath,tempArray,"setTooltipData")}},id:"manageGroupsQtip",content:{text:" ",title:{text:"Manage Groups",button:!0}},position:{my:"bottom center",at:"top center",adjust:{y:-7}},show:{event:!1,ready:!0},hide:!1,style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:!0,width:10,height:5}}}),$(a).show(),$(e).addClass(t))}function checkGroupName(e){var t=!0;return $.each(group,function(a,i){return e.toLowerCase()==i.name.toLowerCase()?(t=!1,!1):void 0}),void 0!=groupCreateArray&&$.each(groupCreateArray,function(a,i){return i.toLowerCase()==e.toLowerCase()?(t=!1,!1):void 0}),t}function createGroup(){var e=$("#newgroup").val();if(checkGroupName(e)&&"new group"!=e){$("#bottom_right > .list_cont > .content").animate({scrollTop:$("#bottom_right").height()},"slow");var t=e,a='<div class="ind_groups" id="gnew-'+groupCounter+'" gid="new-'+groupCounter+'" newgroup="1" ><a><span class="count_cont">0</span><input name="" type="text" value="'+t+'" class="groupEditText" /></a><div class="del_conf" style="display: none; "><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>';$("#newgroup").val("new group").css("color","rgb(170, 170, 170)"),0==$(".ind_groups","#bottomToolBarSelector").length?($("#bottom_right > .list_cont > .content").html(a),showGroupSelectBox()):$("#bottom_right > .list_cont > .content").append(a),$("#gnew-"+groupCounter).click(),groupCreateArray["new-"+groupCounter]=t,groupCounter++,$("#save_group_changes").show()}else"new group"==e||""==e?$("#createGroupCont").append("<div id='duplicateGroup'>Enter a group name.</div>"):$("#createGroupCont").append("<div id='duplicateGroup'>Group already exists. Try somethin' else.</div>")}function resetGroup(e){void 0==e&&(e=0),$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").css({"background-position":"-25px 0",padding:"11px 0 9px 5px",width:"255px"}),$("#bottom_right").hide(),$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites").removeClass("active"),$(".ind_groups").removeClass("active"),$(".select_group_toolbar").select2("enable"),$(".toggle_manage_groups").removeClass("active"),1==e&&filterByGroup("",$(".select_group_toolbar").select2("val")),groupEditFlag=0}function showGroupSelectBox(){$.browser.msie&&"8.0"==$.browser.version?$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").css({"background-position":"0 0","padding-left":"30px",width:"230px"}):$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").animate({backgroundPosition:"0 0",paddingLeft:"30px",width:"230px"},300)}function groupEdit(e){groupEditFlag=1,$("#bottom_right").is(":visible")?(resetGroup(1),$(e).removeClass("active")):($("#bottom_right").show(),$(e).addClass("active"),$(".ind_groups","#bottomToolBarSelector").length>0&&(showGroupSelectBox(),$(".select_group_toolbar").select2("disable"),$(".js_sites","#bottomToolBarSelector").removeClass("hide"),$(".ind_groups:first","#bottomToolBarSelector").click(),$("#bottomToolBarSelector .nano").nanoScroller({stop:!0}),$("#bottomToolBarSelector .nano").nanoScroller()))}function expandThis(e,t){var a=$(e).closest(".ind_row_cont");"summary"==t?($(".row_summary",a).hide(),$(".row_detailed",a).show()):($(".row_summary",a).show(),$(".row_detailed",a).hide())}function optionSelect(e,t){1==t&&$(e).hasClass("active")?$(e).removeClass("active"):(ulClass=$(e).closest("ul"),1==t?($(".optionSelectOne",ulClass).removeClass("active"),"activate"==$(e).attr("action")&&"themes"==activeItem&&$(".site"+$(e).attr("sid")).removeClass("active")):$(".optionSelect",ulClass).removeClass("active"),$(e).addClass("active"))}function checkFavItems(){var e="favItems",t=($("."+e,".favSearch").length,$("."+e+".active",".favSearch").length);0==t?($(".status_"+e).addClass("disabled"),$("#createFavoriteGroup").addClass("disabled"),$("#createFavoriteGroup").css("opacity","0.5")):($(".status_"+e).removeClass("disabled"),$("#createFavoriteGroup").css("opacity","1.0"),$("#createFavoriteGroup").removeClass("disabled"))}function checkUpdateSelect(e,t){var a=$(e).attr("parent"),i=$(e).attr("selector");if("item_ind"==i){var s="#"+currentUpdatePage;$(e).addClass("disabled"),$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .row_checkbox",s).hide(),$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .row_action .update_group",s).hide(),$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .select_action,.select_action_long",s).hide(),$(".ind_row_cont.active:not(.hide, .hidden, .hideVar)",s).not(".hide").removeClass("active").addClass("updating")}else s=$(e).closest(".updateTabs"),$(".item_ind."+i,s).not(".hide").not(".hidden").not(".updating").length<1&&(a==i?$(".ind_row_cont."+i+" .select_action",s).hide():$(".select_"+i,s).hide(),void 0!=a&&$(".item_ind."+a,s).not(".hide").not(".hidden").not(".updating").length<1&&($(".ind_row_cont."+a+" .row_checkbox",s).hide(),$(".ind_row_cont."+a,s).removeClass("active"),$(".status_"+a,s).text("Update All").hide())),void 0!=a&&a!=i&&checkGeneralSelect(a,s),checkGeneralSelect(i,s),checkGeneralSelect("ind_row_cont",s)}function showHidden(){var e="#"+currentUpdatePage;$.each(updateCheckArray,function(t,a){var i=$(".item_ind."+t,e).not(".hide").not(".updating").length;i>0&&($(".row_"+t).show(),$(".row_"+t,e).closest(".ind_row_cont").is(":visible")||$(".row_"+t,e).closest(".ind_row_cont'").show())})}function checkGeneralSelect(e,t,a){var i,s,o,n;void 0==a&&(a=0),(void 0==t||""==t)&&(t="#"+currentUpdatePage),1==a?(i=$(".item_ind."+e).not(".hide").not(".hidden").not(".updating").length,s=$(".item_ind.active."+e).not(".hide").not(".hidden").not(".updating").length):"ind_row_cont"!=e?(i=$(".item_ind."+e,t).not(".hide").not(".hidden").not(".updating").length,s=$(".item_ind.active."+e,t).not(".hide").not(".hidden").not(".updating").length):(i=$("."+e,t).not(".hide").not(".hidden").not(".updating").length,s=$(".active."+e,t).not(".hide").not(".hidden").not(".updating").length),0==i?(1==a&&($(".row_"+e).addClass("hideVar"),0==viewHiddenFlag&&$(".row_"+e).hide(),o=$(".row_"+e),n=$(".row_"+e).closest(".ind_row_cont"),$(".item_ind",o).not(".updating").not(".hidden").not(".hide").length<2&&$(".select_"+e).slideUp(),$(".item_ind",n).not(".updating").not(".hidden").not(".hide").length<1&&(0==viewHiddenFlag&&$(".row_"+e).closest(".ind_row_cont'").hide(),$(".row_"+e).closest(".ind_row_cont'").addClass("hideVar").removeClass("active"))),$(".status_"+e).text("Update All "),"ind_row_cont"==e?$(".status_"+e).addClass("disabled"):$(".status_"+e).closest(".update_group").hide()):0!=i&&(1==a&&($(".row_"+e).removeClass("hideVar"),$(".row_"+e).show(),o=$(".row_"+e),n=$(".row_"+e).closest(".ind_row_cont"),$(".item_ind",o).not(".updating").not(".hidden").not(".hide").length>1?$(".select_"+e).slideDown():$(".select_"+e).hide(),$(".item_ind",n).not(".updating").not(".hidden").not(".hide").length>1&&($(".row_"+e).closest(".ind_row_cont'").show(),$(".row_"+e).closest(".ind_row_cont'").removeClass("hideVar"))),i==s?($(".status_"+e).text("Update All "),"ind_row_cont"!=e?$(".status_"+e).closest(".update_group").show():$(".status_"+e).removeClass("disabled")):0==s?($(".status_"+e).text("Update All "),"ind_row_cont"!=e?$(".status_"+e).closest(".update_group").hide():$(".status_"+e).addClass("disabled")):($(".status_"+e).text("Update Selected "),"ind_row_cont"!=e?($(".status_"+e).closest(".select_action").show(),$(".status_"+e).closest(".update_group").show()):$(".status_"+e).removeClass("disabled")))}function generalSelect(e,t,a){var i=0,s=$(e).closest(".updateTabs"),o=$(e,s).closest(".ind_row_cont");$(e).hasClass("active")?($(e).not(".hidden").not(".hide").not(".updating").removeClass("active"),i=0):($(e).not(".hidden").not(".hide").not(".updating").addClass("active"),i=1),"ind_row_cont"==t?0==i?$(".item_ind",e).not(".hide").not(".hidden").not(".updating").removeClass("active"):$(".item_ind",e).not(".hide").not(".hidden").not(".updating").addClass("active"):$(".item_ind.selectOption.active",o).not(".hide").not(".hidden").not(".updating").length<$(".item_ind.selectOption",o).not(".hide").not(".hidden").not(".updating").length?$(e).closest(".ind_row_cont").removeClass("active"):$(".item_ind.selectOption.active",o).not(".hide").not(".hidden").not(".updating").length==$(".item_ind.selectOption",o).not(".hide").not(".hidden").not(".updating").length&&$(e).closest(".ind_row_cont").addClass("active");var n=$(e).attr("parent"),d=$(e).attr("selector");void 0!=n&&checkGeneralSelect(n,s),checkGeneralSelect(d,s),checkGeneralSelect("ind_row_cont",s)}function selectedGroupSelection(){var e,t=".siteSelectorContainer";$(".group_cont.active",t).each(function(){void 0!=$(this).attr("gid")&&""!=$(this).attr("gid")&&(e=group[$(this).attr("gid")].siteIDs,void 0!=e&&getPropertyCount(e)>0&&$.each(e,function(e,a){$("#s"+a,t).not(".disabled").addClass("active")}))})}function makeSelectionPluginsThemesFavorites(e){if($(".installFavourites").addClass("disabled"),$("#createFavoriteGroup").addClass("disabled"),$("#createFavoriteGroup").css("opacity","0.5"),$(e).hasClass("active")){var t=$(e).attr("gid");$(e).removeClass("active"),$("a[group_id]").parent().removeClass("active"),"g0"==t?($.each(favourites,function(e,t){$.each(t,function(e,t){$("a[ id=f"+t.ID+"]").parent().removeClass("active")})}),$(".installFavourites").addClass("disabled"),$("#createFavoriteGroup").addClass("disabled"),$("#createFavoriteGroup").css("opacity","0.5")):(void 0!=favouritesGroupData[t].IDs&&$.each(favouritesGroupData[t].IDs,function(e,t){$("a[ id=f"+t+"]").parent().removeClass("active")}),$(".installFavourites").addClass("disabled"),$("#createFavoriteGroup").addClass("disabled"),$("#createFavoriteGroup").css("opacity","0.5"),$(".favGroup.active").each(function(){t=$(this).attr("gid"),void 0!=favouritesGroupData[t].IDs&&$.each(favouritesGroupData[t].IDs,function(e,t){favoritesCount=$("a[ id=f"+t+"]").parent().addClass("active"),favoritesCount.length&&($("#createFavoriteGroup").removeClass("disabled"),$("#createFavoriteGroup").css("opacity","1.0"),$(".installFavourites").removeClass("disabled"))})}))}else{$("a[group_id]").parent().removeClass("active"),$(e).addClass("active");var t=$(e).attr("gid");"g0"==t?$.each(favourites,function(e,t){$.each(t,function(e,t){var a=$("a[ id=f"+t.ID+"]").parent().addClass("active");a.length&&($(".installFavourites").removeClass("disabled"),$("#createFavoriteGroup").removeClass("disabled"),$("#createFavoriteGroup").css("opacity","1.0"))})}):void 0!=favouritesGroupData[t].IDs&&$.each(favouritesGroupData[t].IDs,function(e,t){var a=$("a[ id=f"+t+"]").parent().addClass("active");a.length&&($("#createFavoriteGroup").removeClass("disabled"),$("#createFavoriteGroup").css("opacity","1.0"),$(".installFavourites").removeClass("disabled"))})}}function makeSelection(e,t,a){var i,s,o={},n=0,d=$(e).closest(".siteSearch");if($(e).hasClass("deselectGroups")&&$(".group_cont",".siteSelectorContainer").removeClass("active"),$(e).hasClass("active")?($(e).removeClass("active"),gFlag=1):($(e).addClass("active"),gFlag=2),1==a&&1!=t){var l=$(".ind_groups","#bottomToolBarSelector").length;(0==groupEditFlag||0==l)&&$(e).removeClass("active");var r=0,c="#bottom_left  .list_cont .content  .active";$(c,d).length>0?$(c,d).each(function(){o[r]=$(this).attr("sid"),n++,r++}):o[0]="empty",groupChangeArray[currentGroup]=o,$("#save_group_changes").show(),$("#g"+currentGroup+"  a  .count_cont").html(n)}1==t?(1==gAll&&($(".group_items_cont  #g0",d).removeClass("active"),$(".website_items_cont  .website_cont",d).removeClass("active"),gAll=0),1==a&&(currentGroup=$(e).attr("gid"),removeDeleteConf(),2==gFlag&&($(".ind_groups",d).removeClass("active"),$(".ind_sites",d).removeClass("active")),i=$(e).addClass("active")),i=$(e).attr("gid"),s=1==groupEditFlag&&void 0!=groupChangeArray[i]?groupChangeArray[i]:1!=$(e).attr("newgroup")?group[i].siteIDs:"",void 0!=s&&getPropertyCount(s)>0&&$.each(s,function(e,t){2==gFlag?$("#s"+t,d).not(".disabled").addClass("active"):1==gFlag&&1!=a&&$("#s"+t,d).not(".disabled").removeClass("active")}),selectedGroupSelection()):"all"==t&&($(".group_items_cont  .group_cont",d).removeClass("active"),2==gFlag?($(".website_items_cont .website_cont",d).not(".disabled").addClass("active"),$(e).addClass("active"),gAll=1):1==gFlag&&($(".website_items_cont .website_cont",d).not(".disabled").removeClass("active"),gAll=0))}function mainUpdateSelection(e,t){var a="ind_row_cont",i="#"+currentUpdatePage;"all"==e?$("."+a,i).not(".hide,.hidden,.updating,.hideVar").each(function(){$(this).addClass("active"),$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").addClass("active")}):"none"==e?$("."+a,i).not(".hide,.hidden,.updating,.hideVar").each(function(){$(this).removeClass("active"),$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").removeClass("active")}):"invert"==e&&$("."+a,i).not(".hide,.hidden,.updating,.hideVar").each(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").removeClass("active")):($(this).addClass("active"),$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").addClass("active"))}),checkGeneralSelect(a)}function selection(e,t,a,i){if(void 0==i)t=$("."+t);else{var s=$(a).closest(i);t=$("."+t,s)}if("all"==e?$(t).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").addClass("active"):"none"==e?$(t).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").removeClass("active"):"invert"==e&&$(t).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").each(function(){$(this).hasClass("active")?$(this).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").removeClass("active"):$(this).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").addClass("active")}),checkGeneralSelect(t),a){var o=$(a).attr("parent");o&&checkGeneralSelect(o)}}function checkSearchedList(e,t,a){if(2==a){if(""==t)var i="#"+currentUpdatePage;else var i=t;return 1==viewHiddenFlag?$(".ind_row_cont",i).not(".hide").length:$(".ind_row_cont",i).not(".hide").not(".hideVar").length}return $(e,t).not(".hide").length}function searchSites(e,t){clearTimeout(s);var a=".searchable";if($(e).val().length>0?$(e).next().show():$(e).next().hide(),3==t)var i=".favSearch";else if(2==t)var i=$("#"+currentUpdatePage);else var i=$(e).closest(".siteSearch");var s=setTimeout(function(){$(e).val().length>0&&"type to filter"!=$(e).val()?2==t||4==t?($(a,i).closest(".ind_row_cont").not(".groupHide").removeClass("hide"),$(a+":not(:contains("+$(e).val()+"))",i).closest(".ind_row_cont").not(".groupHide").addClass("hide"),checkGeneralSelect("ind_row_cont"),2==t?checkSearchListVar=checkSearchedList(a,"",2):checkSearchListVar=checkSearchedList(a,i,2),checkSearchListVar<1?$(".hiddenCont",i).show():$(".hiddenCont",i).hide()):($(a,i).not(".groupHide").removeClass("hide").show(),3==t?$(a+":not(:contains("+$(e).val()+"))",i).hide().addClass("hide"):$(a+":not(:contains("+$(e).val()+"))",i).not(".groupHide").addClass("hide"),checkSearchedList(a,i)<1?$(".hiddenCont",i).show():$(".hiddenCont",i).hide()):($(".hiddenCont",i).hide(),2==t||4==t?($(a,i).closest(".ind_row_cont").not(".groupHide").removeClass("hide"),checkGeneralSelect("ind_row_cont")):3==t?$(a,i).show().removeClass("hide"):$(a,i).not(".groupHide").removeClass("hide"))},300);lazyLoadOnlyVisibleImages()}function validateForm(e){var t=0,a={};return $("#"+e+" .formVal").removeClass("error").each(function(){("hidden"==$(this).attr("type")||$(this).is(":visible"))&&($(this).hasClass("dropdown")?a[$(this).attr("id")]=$(this).attr("dropopt"):a[$(this).attr("id")]=$(this).val(),$(this).hasClass("required")&&""==$(this).val()&&($("#cloneTestConnection").hasClass("testing")&&$(this).hasClass("testException")||($(this).addClass("error"),t=1)))}),$("#"+e+" .checkbox.active").each(function(){a[$(this).attr("id")]=1}),1==t&&(a=!1),"dropboxRepo"==e&&(a.consumer_key=dpConsumerKey,a.consumer_secret=dpConsumerSecret),a}function processTestConnection(e,t,a){e=e.data.repositoryTestConnection,"success"==e.status?$("#"+a).removeClass("testing").addClass("success"):($("#"+a).removeClass("testing").addClass("error"),$("#"+t+" .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"><div class="e_close"></div>'+e.errorMsg+'<div class="conn_test_error_cont_arrow"></div></div>'))}function processFTPTestConnection(e){e=e.data.FTPTestConnection,"success"==e.status?$("#testFTPConnection").removeClass("testing").addClass("successftp"):($("#testFTPConnection").removeClass("testing").addClass("error"),$("#completeForm .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"style="margin-bottom: 32px;margin-right: 99px; position:absolute; "><div class="e_close"></div>'+e.errorMsg+'<div class="conn_test_error_cont_arrow"></div></div>'))}function installIWPAddons(e,t){if(1==t)var a="UPDATE";else var a="INSTALL";if(addonSuiteMiniLimitExceeded("installAddons"))return!1;var i='<div class="dialog_cont" style="width:750px;"> <div class="th rep_sprite"> <div class="title droid700">'+a+' ADDONS</div></div><iframe src="update.php?action='+e+'" height="500px" width="750px" id="infiniteWP"></iframe></div>';$("#modalDiv").dialog("destroy"),$("#modalDiv").html(i).dialog({width:"auto",modal:!0,position:"center",resizable:!1,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function checkIWPAddons(e){if(void 0==e){var t={};t.requiredData={},t.requiredData.forceCheckUpdate=1,t.requiredData.checkIsAddonSuiteMiniLimitExceeded=1,t.requiredData.getAddonSuiteMiniLimit=1,t.requiredData.getAddonSuiteMiniActivity=1,doCall(ajaxCallPath,t,"checkIWPAddons","json")}else if("netError"==e.data.forceCheckUpdate.status){var a=[];a[0]={message:e.data.forceCheckUpdate.errorMsg,state:"U",title:"Connection Error",type:"E"},fixedNotifications=a,loadFixedNotifications()}else isAddonSuiteMiniLimitExceeded=e.data.checkIsAddonSuiteMiniLimitExceeded,addonSuiteMiniLimit=e.data.getAddonSuiteMiniLimit,addonSuiteMiniActivity=e.data.getAddonSuiteMiniActivity,
isAddonSuiteMiniCancelMessage(e.data.isAddonSuiteMiniCancelMessage),loadAddonsPage()}function processIWPLogin(e){if($(".loginIWP").removeClass("disabled"),$(".btn_loadingDiv").remove(),request=e.data.IWPAuthUser,1==request.error)1==request.passwordAuth?$(".dialog_cont .loginError").html("<div class='loginFailureError'>Invalid Username or Password. Kindly try again.</div>"):($(".dialog_cont .dialog_content").html(request.message).addClass("warn_conn_break_iframe"),$(".bottom_bar").remove());else if(1==request.netError)$(".dialog_cont .loginError").html("<div class='loginFailureError'>"+request.errorMsg+"</div>");else if(1==request.success){usernameTemp="",passwordTemp="",$("#modalDiv").dialog("close");var t=request.action;"installAddons"==t?installIWPAddons("installAddons&downloadToken="+request.token):"register"==t&&checkIWPAddons()}else $(".dialog_cont .loginError").html("<div class='error'>Unknown error</div>")}function processAddonActivation(e){var t=unescape(window.location.pathname)+"?page=addons";window.location.href=t}function objLen(e){var t=0;return $.each(e,function(e,a){$.each(a,function(e,a){t++})}),0==e?0:t}function maxLen(e){return e>100?"100+":e}function hideSitesBasedOnGroup(){var e=$("#mainUpdateCont .optionSelect.active").text(),t="",a="";"Websites"==e?(t="#siteViewUpdateContent .js_sites",a="siteId"):(t=".plugin_theme_wp_group_hide",a="sid"),$(t).removeClass("groupHide").addClass("hide").addClass("groupHide"),"undefined"!=typeof group[currentGroupID]?null!=group[currentGroupID].siteIDs&&$.each(group[currentGroupID].siteIDs,function(e,i){$(t).each(function(){$(this).attr(a)==i&&$(this).removeClass("hide").removeClass("groupHide")})}):$(t).removeClass("hide").removeClass("groupHide")}function hideUninstallandInactiveSites(e,t){data={},"brokenLinks"==t?(plugin_main_file="broken-link-checker/broken-link-checker.php",pluginName="Broken Link Checker"):"wordFence"==t?(plugin_main_file="wordfence/wordfence.php",pluginName="WordFence"):"yoastWpSeo"==t?(plugin_main_file="wordpress-seo-premium/wp-seo-premium.php",pluginName="WP SEO by Yoast"):"ithemesSecurity"==t&&(plugin_main_file="better-wp-security/better-wp-security.php",pluginName="iThemes Security"),$.each(e,function(e,t){plugin_main_file in t?"undefined"!=typeof t[plugin_main_file]&&null!=t[plugin_main_file]?data[e]=[t[plugin_main_file].isInstalled,t[plugin_main_file].isActivated]:data[e]=[null,null]:data[e]=[!1,!1]}),$(".website_cont").each(function(){var e=$(this).attr("sid");"undefined"!=typeof data[e]&&null!=data[e]&&"undefined"!=typeof data[e][0]&&"undefined"!=data[e][1]&&null!=data[e][0]&&null!=data[e][1]?data[e][0]&&!data[e][1]?("yoastWpSeo"==t?0==$(this).find(".tips").length&&$(this).append('<div class="tips" >Please Activate Premium '+pluginName+"</div>"):0==$(this).find(".tips").length&&$(this).append('<div class="tips" code="1">Click to Activate '+pluginName+"</div>"),$(this).hasClass("disabled")||$(this).addClass("disabled")):data[e][0]||data[e][1]?data[e][0]&&data[e][1]&&($(this).removeClass("disabled"),$(this).find(".tips").remove()):("yoastWpSeo"==t?0==$(this).find(".tips").length&&$(this).append('<div class="tips" >Please Install & Activate Premium '+pluginName+"</div>"):0==$(this).find(".tips").length&&$(this).append('<div class="tips"  code="0">Click to Install & Activate '+pluginName+"</div>"),$(this).hasClass("disabled")||$(this).addClass("disabled")):(0==$(this).find(".tips").length&&$(this).append('<div class="tips">Not communicable. Please reload data.</div>'),$(this).hasClass("disabled")||$(this).addClass("disabled"))})}function getRecentPluginsStatusAndCheck(e){"undefined"!=typeof e&&"undefined"!=typeof e.data.getRecentPluginsStatus&&(pluginsStatus=e.data.getRecentPluginsStatus),hideUninstallandInactiveSites(pluginsStatus,currentPage),siteSelectorNanoReset()}function clickAnchor(){var e=0,t=".this_download_backup_"+e;e=parseInt($(t).siblings(".download").attr("back_var"));var a=parseInt($(t).siblings(".download").attr("back_var_total"));a>e&&(t=".this_download_backup_"+e,e+=1,$(".download").attr("back_var",e),$(t)[0].click())}function getFilesArrayFromIwpPart(e){var t={};if(e.indexOf("_iwp_part")>=0){var a=e.substr(0,e.indexOf("_iwp_part_")),i=e.substr(e.indexOf("_iwp_part_")+10),i=i.substr(0,i.length-4);for(k=0;k<=i;k++)0==k?t[k]=a+".zip":t[k]=a+"_iwp_part_"+k+".zip";return t}return t[0]=$backup_file,$backup_file}function getIWPTitle(e){var t="IWP",a="";e.find("a").length&&(e.find("a").find("span").length?(t+=" - "+e.find("a").find("span:first").html(),a=e.find("a").find("span:first").html()):(t+=" - "+e.find("a").html(),a=e.find("a").html())),t=t.replace("&amp;","&"),document.title=t,$(".page_section_title").html(a)}function processSettingsUpdate(e){if("undefined"!=typeof e&&"undefined"!=typeof e.data){var t=e.data;if("undefined"!=typeof t.googleServicesSaveAPIKeys)t=t.googleServicesSaveAPIKeys,$("#googleSaveSettingsBtn").removeClass("disabled"),$(".settings_cont .btn_loadingDiv").remove(),0!=t&&($("#googleSaveSuccess").show(),setTimeout(function(){$("#googleSaveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),settingsData.data.getSettingsAll.settings.google.clientID=t.clientID,settingsData.data.getSettingsAll.settings.google.clientSecretKey=t.clientSecretKey);else if($("#saveSettingsBtn").removeClass("disabled"),$(".settings_cont .btn_loadingDiv").remove(),"undefined"!=typeof t.updateAccountSettings)if("error"==t.updateAccountSettings.status&&"invalid_password"==t.updateAccountSettings.error){var a=$("#currentPassword").closest(".valid_cont");$(".valid_error",a).show(),$(".valid_error",a).text("You seem to have got the current password wrong. Please check it."),$("#currentPassword").addClass("error")}else $("#saveSuccess").show(),setTimeout(function(){$("#saveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),settingsData.data.getSettingsAll.accountSettings=t.getSettingsAll.accountSettings,settingsData.data.getSettingsAll.settings.notifications=t.getSettingsAll.settings.notifications;else"undefined"!=typeof t.updateSettings&&1==t.updateSettings||"undefined"!=typeof t.updateSecuritySettings&&1==t.updateSecuritySettings?($("#saveSettingsBtn").removeClass("disabled"),$(".settings_cont").find(".btn_loadingDiv").remove(),$("#saveSuccess").show(),setTimeout(function(){$("#saveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),settingsData.data.getSettingsAll.settings.general=t.getSettingsAll.settings.general,"undefined"!=typeof t.getSettingsAll.settings.emailSettings&&(settingsData.data.getSettingsAll.settings.emailSettings=t.getSettingsAll.settings.emailSettings)):"undefined"!=typeof t.updateSecuritySettings&&1==t.updateSecuritySettings?($("#saveSuccess").show(),setTimeout(function(){$("#saveSuccess").hide()},1e3),settingsData.data.getSettingsAll.settings.general.httpAuth=t.getSettingsAll.settings.general.httpAuth,$("#settings_btn").removeClass("active"),$("#enableHTTPS").hasClass("checked")&&window.location.reload()):"undefined"!=typeof t.saveAppUpdateSettings&&0!=t.saveAppUpdateSettings&&($("#saveSuccess").show(),setTimeout(function(){$("#saveSuccess").hide()},1e3),$("#settings_btn").removeClass("active"),isDirectFS=t.saveAppUpdateSettings.isDirectFS,settingsData.data.getSettingsAll.settings.FTP=t.saveAppUpdateSettings.FTPValues)}}function openSettingsPage(e){"admin"!=currentUserAccessLevel&&(e="Account"),document.title="InfiniteWP - Settings",$(".page_section_title").html("Settings"),$("#header_nav .first-level").removeClass("active_color");var t=getSettingsContent(e);$("#pageContent").html(t).show(),$('.settings_nav li:contains("'+e+'")').addClass("active"),$('.settings_nav li:contains("App Update")').removeClass("active"),loadSettingsPage(settingsData,e),closeDialogs(2)}function processUpdateNotifCount(e){$(".notif_count").hide()}function updateNotificationContent(){var e={};e.requiredData={},e.requiredData.updateNotificationContent=1,doCall(ajaxCallPath,e,"processUpdateNotificationContent","json","none")}function processUpdateNotificationContent(e){$(".weekly_deal_cont").remove(),"undefined"!=typeof e&&"undefined"!=typeof e.data&&(e=e.data,"undefined"!=typeof e&&"undefined"!=typeof e.updateNotificationContent&&(e=e.updateNotificationContent,"undefined"!=typeof e&&"undefined"!=typeof e.center_html&&""!=e.center_html&&($(".notif_data_list").html(e.center_html),$(".notif_btn").show()),"undefined"!=typeof e&&"undefined"!=typeof e.offer_hmtl&&""!=e.offer_hmtl&&(""==e.offer_hmtl?$(".weekly_deal_cont").remove():($(".weekly_deal_cont").remove(),$(".notif_data_list").append('<div class="weekly_deal_cont cf">'+e.offer_hmtl+"</div>")),$(".notif_btn").show()),"undefined"!=typeof e&&"undefined"!=typeof e.notif_count&&($(".notif_count").html(e.notif_count),0!=e.notif_count?$(".notif_count").show():$(".notif_count").hide())))}function showTweetDialog(e){var t=["Update all plugins/themes across multiple %23wordpress sites in a single click with %40infinitewp & save a lot of time infinitewp.com","Update your plugins/themes on multiple %23wordpress in a single click and save time using %40infinitewp. And its Free%21 infinitewp.com","I updated all my plugins/themes on multiple %23wordpress sites in a single click. Thanks to %40infinitewp "+IWPSiteURL+" Huge time saver","Managing updates, installing new plugins across all %23wordpress sites is now a click of a button with %40infinitewp infinitewp.com"],a=["I use %40infinitewp to manage and update multiple %23wordpress sites. It saves me a lot of time and it’s Awesome%21%21 infinitewp.com","Managing multiple %23wordpress sites is a breeze with %40infinitewp. And its Free! infinitewp.com","I manage and update all my %23wordpress sites using %40infinitewp. It’s simple, fast and free. infinitewp.com"],i=Math.floor(3*Math.random()+0),s="",o="";"update_all"==e?(s=t[i],o="You have updated everything successfully.",updateAllTweetStatus="done"):(e="three_sites")&&(i>2&&(i-=1),s=a[i],o="You have added your wordpress site successfully.",threeSitesTweetStatus="done");var n="https://twitter.com/intent/tweet?text="+s,d="";d='<div class="dialog_cont" style="width:600px;"> <div class="th rep_sprite"> <div class="title droid700">HI-FIVE</div></div><div style="font-size: 14px; text-align:center; line-height:22px; padding: 10px 0 10px;margin: 40px 30px 20px;background-color: #e0f5de;border-radius: 5px;">'+o+'</div><div style="font-size: 16px; text-align:center; line-height:22px; padding: 20px 0 10px;"> Do you find InfiniteWP useful?<br>   Let your friends know. They will thank you later.</div> <div style="border: 1px solid #ebebeb;border-radius: 5px;text-align: center;margin: 10px 60px 30px;">   <div style="font-weight:600; padding: 30px; font-size: 15px; line-height: 22px;">'+replaceSpecChars(s)+'</div>   <div style="background-color:#f9f9f9 ; padding: 15px 0;"><a style="background-color:#53a8e9 ; color:#fff; border:1px solid #3b88c3 ; padding: 10px 20px;border-radius: 5px;display: block;width: 80px;margin: auto;" type="'+e+'" class="tweet_this" tweet_url="'+n+'">Tweet</a></div> </div> <div style="text-align:center; padding: 14px 0px 16px 0px; "><a class="twitter_dismiss" type="'+e+'" style="font-size: 11px; color: #555;">No, Thanks</a></div></div>',$("#modalDiv").dialog("destroy"),$("#modalDiv").html(d).dialog({width:"auto",modal:!0,position:"center",resizable:!1,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function replaceSpecChars(e){var t=e.split("%21").join("!");return t=t.split("%23").join("#"),t.split("%40").join("@")}function processIwpTweetStatus(e){}function processTestSendMail(e){var t={};t.requiredData={},t.requiredData.testSendMail=1,doCall(ajaxCallPath,t,"processAfterTestSendMail","json","none")}function processAfterTestSendMail(e){$(".btn_loadingDiv").remove(),$(".test_send_mail_smtp").removeClass("disabled")}function validateEmailSettingsAndGetValue(){var e=$(".email_settings #fromEmail").val(),t=0,a="",i=0;if(e&&!echeck(e))return $(".email_settings #fromEmail").addClass("error"),$("#saveSettingsBtn").removeClass("disabled"),$(".btn_loadingDiv").remove(),!1;var s,o={};o.fromEmail=e,o.fromName=$(".email_settings #fromName").val(),o.smtpSettings={};var n={};if($(".email_settings #useSmtp").hasClass("active")){if(s=validateForm("smtpProcess"),!s)return $("#saveSettingsBtn").removeClass("disabled"),$(".btn_loadingDiv").remove(),!1;n.smtpHost=$(".email_settings #smtpHost").val(),n.smtpPort=$(".email_settings #smtpPort").val(),n.smtpAuthUsername=$(".email_settings #smtpAuthUsername").val(),n.smtpAuthPassword=$(".email_settings #smtpAuthPassword").val(),$(".email_settings #noEncryption").hasClass("active")&&(a=""),$(".email_settings #sslEncryption").hasClass("active")&&(a="ssl"),$(".email_settings #tlsEncryption").hasClass("active")&&(a="tls"),n.smtpEncryption=a,$(".email_settings #yesSmtpAuth").hasClass("active")&&(t=1),n.smtpAuth=t,o.smtpSettings=n}return $(".email_settings #useSmtp").hasClass("active")&&(i=1),n.useSmtp=i,o.smtpSettings=n,o}function processAppUpdateSettings(e){var t=e.data.appDirPermission;$(".uploads_permission_success").remove(),$(".uploads_permission_error").remove(),$(".ftpconfig_e").hide(),$(".ftpconfig").hide(),$(".checking").remove(),isConfigWritable=e.data.isConfigWritable,0!=e.data.getConfigFTP?(isConfigWritable?$(".ftpconfig").show():$(".ftpconfig_e").show(),$(".settings_main_content").find(".FTP_form_con").css({opacity:"0.5"}),$(".settings_main_content").find(".FTP_form").addClass("disabled"),$(".settings_main_content").find("#FTPHost").attr("disabled",!0),$(".settings_main_content").find("#FTPPort").attr("disabled",!0),$(".settings_main_content").find("#FTPBase").attr("disabled",!0),$(".settings_main_content").find("#FTPUser").attr("disabled",!0),$(".settings_main_content").find("#FTPPass").attr("disabled",!0),settingsData.data.getSettingsAll.settings.FTP=e.data.getConfigFTP):settingsData.data.getSettingsAll.settings.FTP.config=0,"undefined"!=typeof t.updates&&t.updates?$(".updates_folder").append('<div class="uploads_permission_success" >Temp directory is writable.</div>'):$(".updates_folder").append('<div class="uploads_permission_error" >[IWP Admin Panel]/updates is not writable. Please set 777 or any writable permission by php to [IWP Admin Panel]/updates.<br></div>'),"undefined"!=typeof t.uploads&&t.uploads?$(".uploads_folder").append('<div class="uploads_permission_success" >[IWP Admin Panel]/uploads is writable.</div>'):$(".uploads_folder").append('<div class="uploads_permission_error" >[IWP Admin Panel]/uploads is not writable. Please set 777 or any writable permission by php to [IWP Admin Panel]/uploads.<br></div>')}function zeroClipboardTrigger(){var e=function(){return"undefined"==typeof navigator.plugins||0==navigator.plugins.length?!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"]};if("undefined"!=typeof e()){var t=new ZeroClipboard($("#copyToClipboard"));t.on("ready",function(e){t.on("copy",function(e){var t=$(".selectOnText").val();e.clipboardData.setData("text/plain",t.replace(/\\/g,"/"))}),t.on("aftercopy",function(e){$(".copy_message").show(),setTimeout('$(".copy_message").hide();',1e3)})}),t.on("error",function(e){ZeroClipboard.destroy()})}else $("#copyToClipboard").remove()}function lazyLoadOnlyVisibleImages(){setTimeout(function(){$(".lazyLoad").unveil(300)},1e3)}function isFavoritesAlreadyExist(e,t){var a=0;if("plugins"===e)var i=favourites.plugins;else var i=favourites.themes;return $(i).each(function(e,i){i.name===t&&(a=1)}),1==a?($("#favAlreadyExist").html(e.toTitleCase().slice(0,-1)+" already exist.Try something else.").show(),!0):!1}function isFavoritesGroupAlreadyExist(e,t){var a=0;return $.each(favouritesGroupData,function(i,s){e===s.type&&t===s.name&&(a=1)}),1==a?($("#gname").parent(".dialog_content.inner_cont").css("margin","20px 20px 30px"),$("#favAlreadyExist").show(),!0):!1}function manageInitialSetupUsageStatsLinks(e){linkPositions=["initialSetupSecurityTab","initialSetupUsageStats"],$(".th_sub.rep_sprite").find("a").removeClass("rep_sprite_backup completed current"),$(".linkDisabled[refclass="+e+"]").addClass("rep_sprite_backup current"),$(".th_sub.rep_sprite").find("a").removeClass("linkDisabled");for(var t=jQuery.inArray(e,linkPositions),a=0;t>a;a++)$(".th_sub.rep_sprite").find("a[refclass="+linkPositions[a]+"]").addClass("rep_sprite_backup completed");for(var a=linkPositions.length-1;a>t;a--)$(".th_sub.rep_sprite").find("a[refclass="+linkPositions[a]+"]").addClass("linkDisabled")}var totalWindowHeight="",totalWindowWidth="",bottomFullBar=0,reloadStatsControl=1,dpConsumerKey="",dpConsumerSecret="",scheduleAddonFlag="",repositoryAddonFlag="",installCloneAddonFlag="",forceBackup=0,manage={},activeItem="plugins",g1="w1,w2,w3,w4",timeOut="",selectedGroup={},groupEditFlag=0,incrementRand=0,siteSelectorVar="",bottomToolbarVar="",currentPage="",ajaxCallPath="ajax.php",groupCounter=0,groupCreateArray={},groupChangeArray={},groupNameArray={},groupDeleteArray={},usernameTemp,passwordTemp,currentPage="updates",state,currentUpdatePage,parentFlag=0,updateCheckArray={},viewHiddenFlag=0,toobarAddsite="",toobarHiddenUpdates="",historyRefreshCheckFlag=0,stopAllAction=!1,notNowUpdate=!1,clientUpdateSites=!1,updateAvailable,siteSelectorRestrictVar,formArrayVar={},runOffBrowser=0,clientPluginBrandingSettings,tempConfirmObject,recentLength=0,historyRefreshInterval,historyRefreshIntervalFlag=0,bottom_count=0,groupOperationFlag=1,currentGroupID=0,tempTimeOut=1,wpRepositoryFlag=0,notInstalledSiteID=0,test_count=0,check_fsock="",pauseCallRefreshCount=0,showBrowserCloseWarning=0,manageEasyCronActive=!1,systemCronTimeSettings=!1,loadUpdateNotificationPopupShown=0,total_url_parts=0,myVar,timeZones={},restrictUpdatePageFlag="",restrictAddEditDeleteSiteFlag="",restrictToggleOpenAdminFlag="",restrictToggleCreateBackupFlag="",restrictTogglerestoreDeleteDownloadBackupFlag="",numberOfSitesForUser=0,scheduleBackupNowRestrictToggleFlag="",permissions="",lastBottomLineContent="",lastBottomLinePage="";Date.prototype.addDays=function(e){return this.setDate(this.getDate()+e),this},String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.toTitleCase=function(){var e=/^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|vs?\.?|via)$/i;return this.replace(/([^\W_]+[^\s-]*) */g,function(t,a,i,s){return i>0&&i+a.length!==s.length&&a.search(e)>-1&&":"!==s.charAt(i-2)&&s.charAt(i-1).search(/[^\s-]/)<0?t.toLowerCase():a.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})},jQuery.expr[":"].contains=function(e,t,a){return jQuery(e).text().toUpperCase().indexOf(a[3].toUpperCase())>=0};var gFlag=0,gAll=0,currentGroup=0;